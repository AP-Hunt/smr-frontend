import{C as e,ae as s,$ as o,a0 as t}from"./vendor-83c23bd8.js";import{c as a}from"./graphql-71bf8d51.js";const r=e(s.get("token")||null),n=e(null),i=()=>{{const e=o(a);let i=!0;r.subscribe((o=>{if(o){const e=new Date((new Date).getTime()+2592e6);s.set("token",o,{domain:window.location.hostname,expires:e})}else i||s.remove("token");if(i=!1,o){t(e);const s=e.subscribe((e=>{e.fetching||(e.error?console.error(e.error.message):n.set(e.data.getMe),s())}))}else n.set(null)}))}};export{n as a,i,r as u};
