import{S as e,i as s,s as a,e as r,j as t,c as o,a as n,m as c,d as l,b as i,f as d,o as u,x as f,u as h,v,k as m,l as p,n as g,w as b,_ as $,Z as x,at as D,a1 as V,$ as E,r as w,C as I,t as y,g as P,a2 as j,a7 as k,h as _,a9 as M,an as A,a8 as N}from"../../chunks/vendor-db5fc542.js";import{A as U,D as O,i as T}from"../../chunks/graphql-7b224d75.js";import{P as q}from"../../chunks/PageControls-42f1a902.js";import{b as L}from"../../chunks/sha256-88abbcfe.js";import"../../chunks/user-8d7a97c1.js";import{b as B}from"../../chunks/paths-6758d194.js";function C(e,s,a){const r=e.slice();return r[12]=s[a],r}function R(e){let s,a,m;return a=new q({props:{totalPages:Math.ceil(e[1]/J),currentPage:e[3]}}),{c(){s=r("div"),t(a.$$.fragment),this.h()},l(e){s=o(e,"DIV",{class:!0});var r=n(s);c(a.$$.fragment,r),r.forEach(l),this.h()},h(){i(s,"class","mt-5 ml-auto flex justify-end")},m(e,r){d(e,s,r),u(a,s,null),m=!0},p(e,s){const r={};2&s&&(r.totalPages=Math.ceil(e[1]/J)),a.$set(r)},i(e){m||(f(a.$$.fragment,e),m=!0)},o(e){h(a.$$.fragment,e),m=!1},d(e){e&&l(s),v(a)}}}function H(e){let s,a,t,c,u,f,h,v,p,b,$,x,D=e[0].data.getUnapprovedVersions.versions,V=[];for(let r=0;r<D.length;r+=1)V[r]=z(C(e,D,r));return{c(){s=r("div"),a=r("div"),t=y("Mod"),c=m(),u=r("div"),f=y("Version"),h=m(),v=r("div"),p=y("Release Date"),b=m(),$=r("div"),x=m();for(let e=0;e<V.length;e+=1)V[e].c();this.h()},l(e){s=o(e,"DIV",{class:!0});var r=n(s);a=o(r,"DIV",{});var i=n(a);t=P(i,"Mod"),i.forEach(l),c=g(r),u=o(r,"DIV",{});var d=n(u);f=P(d,"Version"),d.forEach(l),h=g(r),v=o(r,"DIV",{});var m=n(v);p=P(m,"Release Date"),m.forEach(l),b=g(r),$=o(r,"DIV",{}),n($).forEach(l),x=g(r);for(let s=0;s<V.length;s+=1)V[s].l(r);r.forEach(l),this.h()},h(){i(s,"class","grid grid-cols-6 itemList svelte-uwb2eg")},m(e,r){d(e,s,r),j(s,a),j(a,t),j(s,c),j(s,u),j(u,f),j(s,h),j(s,v),j(v,p),j(s,b),j(s,$),j(s,x);for(let a=0;a<V.length;a+=1)V[a].m(s,null)},p(e,a){if(49&a){let r;for(D=e[0].data.getUnapprovedVersions.versions,r=0;r<D.length;r+=1){const t=C(e,D,r);V[r]?V[r].p(t,a):(V[r]=z(t),V[r].c(),V[r].m(s,null))}for(;r<V.length;r+=1)V[r].d(1);V.length=D.length}},d(e){e&&l(s),A(V,e)}}}function S(e){let s,a,t,c=e[0].error.message+"";return{c(){s=r("p"),a=y("Oh no... "),t=y(c)},l(e){s=o(e,"P",{});var r=n(s);a=P(r,"Oh no... "),t=P(r,c),r.forEach(l)},m(e,r){d(e,s,r),j(s,a),j(s,t)},p(e,s){1&s&&c!==(c=e[0].error.message+"")&&_(t,c)},d(e){e&&l(s)}}}function Z(e){let s,a;return{c(){s=r("p"),a=y("Loading...")},l(e){s=o(e,"P",{});var r=n(s);a=P(r,"Loading..."),r.forEach(l)},m(e,r){d(e,s,r),j(s,a)},p:N,d(e){e&&l(s)}}}function z(e){let s,a,t,c,u,f,h,v,p,b,$,x,D,V,E,w,I,A,N,U,O,T,q,C,R,H,S,Z=e[12].mod.name+"",z=e[12].version+"",F=e[12].created_at+"";function G(){return e[8](e[12])}function J(){return e[9](e[12])}return{c(){s=r("div"),a=r("div"),t=y(Z),c=m(),u=r("div"),f=y(z),h=m(),v=r("div"),p=y(F),b=m(),$=r("div"),x=r("button"),D=y("Approve"),V=m(),E=r("button"),w=y("Deny"),I=m(),A=r("a"),N=y("Download"),O=m(),T=r("a"),q=y("View"),R=m(),this.h()},l(e){s=o(e,"DIV",{class:!0});var r=n(s);a=o(r,"DIV",{class:!0});var i=n(a);t=P(i,Z),i.forEach(l),c=g(r),u=o(r,"DIV",{class:!0});var d=n(u);f=P(d,z),d.forEach(l),h=g(r),v=o(r,"DIV",{class:!0});var m=n(v);p=P(m,F),m.forEach(l),b=g(r),$=o(r,"DIV",{class:!0});var y=n($);x=o(y,"BUTTON",{class:!0});var j=n(x);D=P(j,"Approve"),j.forEach(l),V=g(y),E=o(y,"BUTTON",{class:!0});var k=n(E);w=P(k,"Deny"),k.forEach(l),I=g(y),A=o(y,"A",{href:!0,class:!0});var _=n(A);N=P(_,"Download"),_.forEach(l),O=g(y),T=o(y,"A",{href:!0,class:!0});var M=n(T);q=P(M,"View"),M.forEach(l),y.forEach(l),R=g(r),r.forEach(l),this.h()},h(){i(a,"class","svelte-uwb2eg"),i(u,"class","svelte-uwb2eg"),i(v,"class","svelte-uwb2eg"),i(x,"class","py-1 px-4 rounded text-base bg-green-600 text-center cursor-pointer"),i(E,"class","py-1 px-4 rounded text-base bg-red-600 text-center cursor-pointer"),i(A,"href",U=L+"/mod/"+e[12].mod_id+"/versions/"+e[12].id+"/download"),i(A,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center cursor-pointer"),i(T,"href",C=B+"/mod/"+e[12].mod_id+"/version/"+e[12].id),i(T,"class","py-1 px-4 rounded text-base bg-blue-500 text-center cursor-pointer"),i($,"class","grid grid-flow-col gap-4 svelte-uwb2eg"),i(s,"class","contents itemHeader svelte-uwb2eg")},m(e,r){d(e,s,r),j(s,a),j(a,t),j(s,c),j(s,u),j(u,f),j(s,h),j(s,v),j(v,p),j(s,b),j(s,$),j($,x),j(x,D),j($,V),j($,E),j(E,w),j($,I),j($,A),j(A,N),j($,O),j($,T),j(T,q),j(s,R),H||(S=[k(x,"click",G),k(E,"click",J)],H=!0)},p(s,a){e=s,1&a&&Z!==(Z=e[12].mod.name+"")&&_(t,Z),1&a&&z!==(z=e[12].version+"")&&_(f,z),1&a&&F!==(F=e[12].created_at+"")&&_(p,F),1&a&&U!==(U=L+"/mod/"+e[12].mod_id+"/versions/"+e[12].id+"/download")&&i(A,"href",U),1&a&&C!==(C=B+"/mod/"+e[12].mod_id+"/version/"+e[12].id)&&i(T,"href",C)},d(e){e&&l(s),H=!1,M(S)}}}function F(e){let s,a,m;return a=new q({props:{totalPages:Math.ceil(e[1]/J),currentPage:e[3]}}),{c(){s=r("div"),t(a.$$.fragment),this.h()},l(e){s=o(e,"DIV",{class:!0});var r=n(s);c(a.$$.fragment,r),r.forEach(l),this.h()},h(){i(s,"class","mt-5 ml-auto flex justify-end")},m(e,r){d(e,s,r),u(a,s,null),m=!0},p(e,s){const r={};2&s&&(r.totalPages=Math.ceil(e[1]/J)),a.$set(r)},i(e){m||(f(a.$$.fragment,e),m=!0)},o(e){h(a.$$.fragment,e),m=!1},d(e){e&&l(s),v(a)}}}function G(e){let s,a,r,t,o=e[1]&&R(e);function n(e,s){return e[0].fetching?Z:e[0].error?S:H}let c=n(e),i=c(e),u=e[1]&&F(e);return{c(){o&&o.c(),s=m(),i.c(),a=m(),u&&u.c(),r=p()},l(e){o&&o.l(e),s=g(e),i.l(e),a=g(e),u&&u.l(e),r=p()},m(e,n){o&&o.m(e,n),d(e,s,n),i.m(e,n),d(e,a,n),u&&u.m(e,n),d(e,r,n),t=!0},p(e,[t]){e[1]?o?(o.p(e,t),2&t&&f(o,1)):(o=R(e),o.c(),f(o,1),o.m(s.parentNode,s)):o&&(w(),h(o,1,1,(()=>{o=null})),b()),c===(c=n(e))&&i?i.p(e,t):(i.d(1),i=c(e),i&&(i.c(),i.m(a.parentNode,a))),e[1]?u?(u.p(e,t),2&t&&f(u,1)):(u=F(e),u.c(),f(u,1),u.m(r.parentNode,r)):u&&(w(),h(u,1,1,(()=>{u=null})),b())},i(e){t||(f(o),f(u),t=!0)},o(e){h(o),h(u),t=!1},d(e){o&&o.d(e),e&&l(s),i.d(e),e&&l(a),u&&u.d(e),e&&l(r)}}}const J=20;function K(e,s,a){let r;var t,o;const n=$(T,{filter:{offset:0,limit:J}});x(e,n,(e=>a(0,r=e)));const c=I(1);let l;c.subscribe((e=>D(n,r.variables.filter.offset=(e-1)*J,r)));const i=V({query:U}),d=e=>{i({versionId:e}).then((()=>{n.reexecute()}))},u=V({query:O}),f=e=>{u({versionId:e}).then((()=>{n.reexecute()}))};E(n);return e.$$.update=()=>{193&e.$$.dirty&&a(1,l=null===a(7,o=null===a(6,t=null==r?void 0:r.data)||void 0===t?void 0:t.getUnapprovedVersions)||void 0===o?void 0:o.count)},[r,l,n,c,d,f,t,o,e=>d(e.id),e=>f(e.id)]}class Q extends e{constructor(e){super(),s(this,e,K,G,a,{})}}export{Q as default};
