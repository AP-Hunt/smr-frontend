import{S as e,i as s,s as t,e as a,j as r,c as o,a as n,m as c,d as l,b as i,f as d,o as h,x as u,u as f,v,k as m,l as p,$ as g,n as b,w as $,N as V,M as x,aj as D,Q as E,O as w,r as I,C as y,t as j,g as P,R as k,W as M,h as A,Y as N,ad as U,X as _}from"../../chunks/vendor-ecacde99.js";import{i as O,A as R,D as T}from"../../chunks/graphql-7c12eb8b.js";import{P as q}from"../../chunks/PageControls-75128409.js";import{b as L}from"../../chunks/api-82c76902.js";import"../../chunks/user-bb5babe5.js";import{b as B}from"../../chunks/paths-6758d194.js";function C(e,s,t){const a=e.slice();return a[12]=s[t],a}function S(e){let s,t,m;return t=new q({props:{totalPages:Math.ceil(e[1]/F),currentPage:e[3]}}),{c(){s=a("div"),r(t.$$.fragment),this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);c(t.$$.fragment,a),a.forEach(l),this.h()},h(){i(s,"class","mt-5 ml-auto flex justify-end")},m(e,a){d(e,s,a),h(t,s,null),m=!0},p(e,s){const a={};2&s&&(a.totalPages=Math.ceil(e[1]/F)),t.$set(a)},i(e){m||(u(t.$$.fragment,e),m=!0)},o(e){f(t.$$.fragment,e),m=!1},d(e){e&&l(s),v(t)}}}function H(e){let s,t,r,c,h,u,f,v,p,g,$,V,x=e[0].data.getUnapprovedVersions.versions,D=[];for(let a=0;a<x.length;a+=1)D[a]=X(C(e,x,a));return{c(){s=a("div"),t=a("div"),r=j("Mod"),c=m(),h=a("div"),u=j("Version"),f=m(),v=a("div"),p=j("Release Date"),g=m(),$=a("div"),V=m();for(let e=0;e<D.length;e+=1)D[e].c();this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);t=o(a,"DIV",{});var i=n(t);r=P(i,"Mod"),i.forEach(l),c=b(a),h=o(a,"DIV",{});var d=n(h);u=P(d,"Version"),d.forEach(l),f=b(a),v=o(a,"DIV",{});var m=n(v);p=P(m,"Release Date"),m.forEach(l),g=b(a),$=o(a,"DIV",{}),n($).forEach(l),V=b(a);for(let s=0;s<D.length;s+=1)D[s].l(a);a.forEach(l),this.h()},h(){i(s,"class","grid grid-cols-6 itemList svelte-uwb2eg")},m(e,a){d(e,s,a),k(s,t),k(t,r),k(s,c),k(s,h),k(h,u),k(s,f),k(s,v),k(v,p),k(s,g),k(s,$),k(s,V);for(let t=0;t<D.length;t+=1)D[t].m(s,null)},p(e,t){if(49&t){let a;for(x=e[0].data.getUnapprovedVersions.versions,a=0;a<x.length;a+=1){const r=C(e,x,a);D[a]?D[a].p(r,t):(D[a]=X(r),D[a].c(),D[a].m(s,null))}for(;a<D.length;a+=1)D[a].d(1);D.length=x.length}},d(e){e&&l(s),U(D,e)}}}function Q(e){let s,t,r,c=e[0].error.message+"";return{c(){s=a("p"),t=j("Oh no... "),r=j(c)},l(e){s=o(e,"P",{});var a=n(s);t=P(a,"Oh no... "),r=P(a,c),a.forEach(l)},m(e,a){d(e,s,a),k(s,t),k(s,r)},p(e,s){1&s&&c!==(c=e[0].error.message+"")&&A(r,c)},d(e){e&&l(s)}}}function W(e){let s,t;return{c(){s=a("p"),t=j("Loading...")},l(e){s=o(e,"P",{});var a=n(s);t=P(a,"Loading..."),a.forEach(l)},m(e,a){d(e,s,a),k(s,t)},p:_,d(e){e&&l(s)}}}function X(e){let s,t,r,c,h,u,f,v,p,g,$,V,x,D,E,w,I,y,U,_,O,R,T,q,C,S,H,Q=e[12].mod.name+"",W=e[12].version+"",X=e[12].created_at+"";function Y(){return e[8](e[12])}function z(){return e[9](e[12])}return{c(){s=a("div"),t=a("div"),r=j(Q),c=m(),h=a("div"),u=j(W),f=m(),v=a("div"),p=j(X),g=m(),$=a("div"),V=a("button"),x=j("Approve"),D=m(),E=a("button"),w=j("Deny"),I=m(),y=a("a"),U=j("Download"),O=m(),R=a("a"),T=j("View"),C=m(),this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);t=o(a,"DIV",{class:!0});var i=n(t);r=P(i,Q),i.forEach(l),c=b(a),h=o(a,"DIV",{class:!0});var d=n(h);u=P(d,W),d.forEach(l),f=b(a),v=o(a,"DIV",{class:!0});var m=n(v);p=P(m,X),m.forEach(l),g=b(a),$=o(a,"DIV",{class:!0});var j=n($);V=o(j,"BUTTON",{class:!0});var k=n(V);x=P(k,"Approve"),k.forEach(l),D=b(j),E=o(j,"BUTTON",{class:!0});var M=n(E);w=P(M,"Deny"),M.forEach(l),I=b(j),y=o(j,"A",{href:!0,class:!0});var A=n(y);U=P(A,"Download"),A.forEach(l),O=b(j),R=o(j,"A",{href:!0,class:!0});var N=n(R);T=P(N,"View"),N.forEach(l),j.forEach(l),C=b(a),a.forEach(l),this.h()},h(){i(t,"class","svelte-uwb2eg"),i(h,"class","svelte-uwb2eg"),i(v,"class","svelte-uwb2eg"),i(V,"class","py-1 px-4 rounded text-base bg-green-600 text-center cursor-pointer"),i(E,"class","py-1 px-4 rounded text-base bg-red-600 text-center cursor-pointer"),i(y,"href",_=L+"/mod/"+e[12].mod_id+"/versions/"+e[12].id+"/download"),i(y,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center cursor-pointer"),i(R,"href",q=B+"/mod/"+e[12].mod_id+"/version/"+e[12].id),i(R,"class","py-1 px-4 rounded text-base bg-blue-500 text-center cursor-pointer"),i($,"class","grid grid-flow-col gap-4 svelte-uwb2eg"),i(s,"class","contents itemHeader svelte-uwb2eg")},m(e,a){d(e,s,a),k(s,t),k(t,r),k(s,c),k(s,h),k(h,u),k(s,f),k(s,v),k(v,p),k(s,g),k(s,$),k($,V),k(V,x),k($,D),k($,E),k(E,w),k($,I),k($,y),k(y,U),k($,O),k($,R),k(R,T),k(s,C),S||(H=[M(V,"click",Y),M(E,"click",z)],S=!0)},p(s,t){e=s,1&t&&Q!==(Q=e[12].mod.name+"")&&A(r,Q),1&t&&W!==(W=e[12].version+"")&&A(u,W),1&t&&X!==(X=e[12].created_at+"")&&A(p,X),1&t&&_!==(_=L+"/mod/"+e[12].mod_id+"/versions/"+e[12].id+"/download")&&i(y,"href",_),1&t&&q!==(q=B+"/mod/"+e[12].mod_id+"/version/"+e[12].id)&&i(R,"href",q)},d(e){e&&l(s),S=!1,N(H)}}}function Y(e){let s,t,m;return t=new q({props:{totalPages:Math.ceil(e[1]/F),currentPage:e[3]}}),{c(){s=a("div"),r(t.$$.fragment),this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);c(t.$$.fragment,a),a.forEach(l),this.h()},h(){i(s,"class","mt-5 ml-auto flex justify-end")},m(e,a){d(e,s,a),h(t,s,null),m=!0},p(e,s){const a={};2&s&&(a.totalPages=Math.ceil(e[1]/F)),t.$set(a)},i(e){m||(u(t.$$.fragment,e),m=!0)},o(e){f(t.$$.fragment,e),m=!1},d(e){e&&l(s),v(t)}}}function z(e){let s,t,a,r,o,n=e[1]&&S(e);function c(e,s){return e[0].fetching?W:e[0].error?Q:H}let i=c(e),h=i(e),v=e[1]&&Y(e);return{c(){s=m(),n&&n.c(),t=m(),h.c(),a=m(),v&&v.c(),r=p(),this.h()},l(e){g('[data-svelte="svelte-192ii78"]',document.head).forEach(l),s=b(e),n&&n.l(e),t=b(e),h.l(e),a=b(e),v&&v.l(e),r=p(),this.h()},h(){document.title="Admin: Unapproved Versions - SMR"},m(e,c){d(e,s,c),n&&n.m(e,c),d(e,t,c),h.m(e,c),d(e,a,c),v&&v.m(e,c),d(e,r,c),o=!0},p(e,[s]){e[1]?n?(n.p(e,s),2&s&&u(n,1)):(n=S(e),n.c(),u(n,1),n.m(t.parentNode,t)):n&&(I(),f(n,1,1,(()=>{n=null})),$()),i===(i=c(e))&&h?h.p(e,s):(h.d(1),h=i(e),h&&(h.c(),h.m(a.parentNode,a))),e[1]?v?(v.p(e,s),2&s&&u(v,1)):(v=Y(e),v.c(),u(v,1),v.m(r.parentNode,r)):v&&(I(),f(v,1,1,(()=>{v=null})),$())},i(e){o||(u(n),u(v),o=!0)},o(e){f(n),f(v),o=!1},d(e){e&&l(s),n&&n.d(e),e&&l(t),h.d(e),e&&l(a),v&&v.d(e),e&&l(r)}}}const F=20;function G(e,s,t){let a;var r,o;const n=V(O,{filter:{offset:0,limit:F}});x(e,n,(e=>t(0,a=e)));const c=y(1);let l;c.subscribe((e=>D(n,a.variables.filter.offset=(e-1)*F,a)));const i=E({query:R}),d=e=>{i({versionId:e}).then((()=>{n.reexecute()}))},h=E({query:T}),u=e=>{h({versionId:e}).then((()=>{n.reexecute()}))};w(n);return e.$$.update=()=>{193&e.$$.dirty&&t(1,l=null===t(7,o=null===t(6,r=null==a?void 0:a.data)||void 0===r?void 0:r.getUnapprovedVersions)||void 0===o?void 0:o.count)},[a,l,n,c,d,u,r,o,e=>d(e.id),e=>u(e.id)]}class J extends e{constructor(e){super(),s(this,e,G,z,t,{})}}export{J as default};
//# sourceMappingURL=unapproved-versions.svelte-01ba575b.js.map
