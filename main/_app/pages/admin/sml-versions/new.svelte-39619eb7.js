import{S as s,i as r,s as n,W as a,X as o,e as t,t as e,k as c,j as i,c as m,a as f,g as u,d as $,n as p,m as h,b as d,f as g,a1 as l,o as k,Y as j,x as v,u as x,v as S,_ as b,h as w}from"../../../chunks/vendor-83c23bd8.js";import{o as y}from"../../../chunks/graphql-71bf8d51.js";import{T as V}from"../../../chunks/Toast-11f90e22.js";import{g as E}from"../../../chunks/navigation-2ffed81e.js";import{S as L}from"../../../chunks/SMLVersionForm-f238c071.js";import"../../../chunks/singletons-12a22614.js";import"../../../chunks/forms-8d025218.js";import"../../../chunks/markdown-ac91d65c.js";function M(s){let r,n;return{c(){r=t("span"),n=e(s[1])},l(a){r=m(a,"SPAN",{});var o=f(r);n=u(o,s[1]),o.forEach($)},m(s,a){g(s,r,a),l(r,n)},p(s,r){2&r&&w(n,s[1])},d(s){s&&$(r)}}}function N(s){let r,n,b,w,y,E,N,q;function T(r){s[3](r)}w=new L({props:{onSubmit:s[2]}});let A={$$slots:{default:[M]},$$scope:{ctx:s}};return void 0!==s[0]&&(A.running=s[0]),E=new V({props:A}),a.push((()=>o(E,"running",T))),{c(){r=t("h1"),n=e("New SML Version"),b=c(),i(w.$$.fragment),y=c(),i(E.$$.fragment),this.h()},l(s){r=m(s,"H1",{class:!0});var a=f(r);n=u(a,"New SML Version"),a.forEach($),b=p(s),h(w.$$.fragment,s),y=p(s),h(E.$$.fragment,s),this.h()},h(){d(r,"class","text-4xl my-4 font-bold")},m(s,a){g(s,r,a),l(r,n),g(s,b,a),k(w,s,a),g(s,y,a),k(E,s,a),q=!0},p(s,[r]){const n={};34&r&&(n.$$scope={dirty:r,ctx:s}),!N&&1&r&&(N=!0,n.running=s[0],j((()=>N=!1))),E.$set(n)},i(s){q||(v(w.$$.fragment,s),v(E.$$.fragment,s),q=!0)},o(s){x(w.$$.fragment,s),x(E.$$.fragment,s),q=!1},d(s){s&&$(r),s&&$(b),S(w,s),s&&$(y),S(E,s)}}}function q(s,r,n){let a="",o=!1;const t=b({query:y});return s.$$.update=()=>{1&s.$$.dirty&&(o||n(1,a=""))},[o,a,s=>{t({smlVersion:s}).then((s=>{s.error?(console.error(s.error.message),n(1,a="Error creating mod: "+s.error.message),n(0,o=!0)):E("/admin/sml-versions")}))},function(s){o=s,n(0,o)}]}class T extends s{constructor(s){super(),r(this,s,q,N,n,{})}}export{T as default};
