import{S as s,i as r,s as n,J as t,K as o,k as a,e,t as i,j as c,$ as m,d,n as u,c as l,a as f,g as p,m as $,b as h,f as g,R as V,o as v,u as j,w as k,x as S,L as b,v as x,N as E,M as L,Q as M,O as I,r as w,h as y,X as O}from"../../../../chunks/vendor-ecacde99.js";import{p as q}from"../../../../chunks/routing-1d144003.js";import{p as N,q as P}from"../../../../chunks/graphql-7c12eb8b.js";import{T}from"../../../../chunks/Toast-1c3d573d.js";import{g as A}from"../../../../chunks/navigation-51f4a605.js";import{S as D}from"../../../../chunks/SMLVersionForm-6e1963c8.js";import{b as R}from"../../../../chunks/paths-6758d194.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/forms-8d025218.js";import"../../../../chunks/markdown-58cc1c31.js";function F(s){let r,n;return r=new D({props:{onSubmit:s[5],initialValues:s[3],submitText:"Save"}}),{c(){c(r.$$.fragment)},l(s){$(r.$$.fragment,s)},m(s,t){v(r,s,t),n=!0},p(s,n){const t={};8&n&&(t.initialValues=s[3]),r.$set(t)},i(s){n||(S(r.$$.fragment,s),n=!0)},o(s){j(r.$$.fragment,s),n=!1},d(s){x(r,s)}}}function H(s){let r,n,t,o=s[1].error.message+"";return{c(){r=e("p"),n=i("Oh no... "),t=i(o)},l(s){r=l(s,"P",{});var a=f(r);n=p(a,"Oh no... "),t=p(a,o),a.forEach(d)},m(s,o){g(s,r,o),V(r,n),V(r,t)},p(s,r){2&r&&o!==(o=s[1].error.message+"")&&y(t,o)},i:O,o:O,d(s){s&&d(r)}}}function J(s){let r,n;return{c(){r=e("p"),n=i("Loading...")},l(s){r=l(s,"P",{});var t=f(r);n=p(t,"Loading..."),t.forEach(d)},m(s,t){g(s,r,t),V(r,n)},p:O,i:O,o:O,d(s){s&&d(r)}}}function K(s){let r,n;return{c(){r=e("span"),n=i(s[2])},l(t){r=l(t,"SPAN",{});var o=f(r);n=p(o,s[2]),o.forEach(d)},m(s,t){g(s,r,t),V(r,n)},p(s,r){4&r&&y(n,s[2])},d(s){s&&d(r)}}}function Q(s){let r,n,E,L,M,I,y,O,q,N;const P=[J,H,F],A=[];function D(s,r){return s[1].fetching?0:s[1].error?1:2}function R(r){s[7](r)}M=D(s),I=A[M]=P[M](s);let Q={$$slots:{default:[K]},$$scope:{ctx:s}};return void 0!==s[0]&&(Q.running=s[0]),O=new T({props:Q}),t.push((()=>o(O,"running",R))),{c(){r=a(),n=e("h1"),E=i("Edit SMLVersion"),L=a(),I.c(),y=a(),c(O.$$.fragment),this.h()},l(s){m('[data-svelte="svelte-12w9olx"]',document.head).forEach(d),r=u(s),n=l(s,"H1",{class:!0});var t=f(n);E=p(t,"Edit SMLVersion"),t.forEach(d),L=u(s),I.l(s),y=u(s),$(O.$$.fragment,s),this.h()},h(){document.title="Admin: Edit SML Version - SMR",h(n,"class","text-4xl my-4 font-bold")},m(s,t){g(s,r,t),g(s,n,t),V(n,E),g(s,L,t),A[M].m(s,t),g(s,y,t),v(O,s,t),N=!0},p(s,[r]){let n=M;M=D(s),M===n?A[M].p(s,r):(w(),j(A[n],1,1,(()=>{A[n]=null})),k(),I=A[M],I?I.p(s,r):(I=A[M]=P[M](s),I.c()),S(I,1),I.m(y.parentNode,y));const t={};516&r&&(t.$$scope={dirty:r,ctx:s}),!q&&1&r&&(q=!0,t.running=s[0],b((()=>q=!1))),O.$set(t)},i(s){N||(S(I),S(O.$$.fragment,s),N=!0)},o(s){j(I),j(O.$$.fragment,s),N=!1},d(s){s&&d(r),s&&d(n),s&&d(L),A[M].d(s),s&&d(y),x(O,s)}}}const X=q();function z(s,r,n){let t,o,{smlVersionId:a}=r,e="",i=!1;const c=E(N,{smlVersionID:a});L(s,c,(s=>n(1,o=s)));const m=M({query:P});return I(c),s.$$set=s=>{"smlVersionId"in s&&n(6,a=s.smlVersionId)},s.$$.update=()=>{1&s.$$.dirty&&(i||n(2,e="")),2&s.$$.dirty&&n(3,t=o.data?Object.assign(Object.assign({},o.data.getSMLVersion),{logo:void 0}):void 0)},[i,o,e,t,c,s=>{m({smlVersionID:a,smlVersion:s}).then((s=>{s.error?(console.error(s.error.message),n(2,e="Error editing sMLVersion: "+s.error.message),n(0,i=!0)):A(R+"/admin/sml-versions")}))},a,function(s){i=s,n(0,i)}]}class B extends s{constructor(s){super(),r(this,s,z,Q,n,{smlVersionId:6})}}export{B as default,X as load};
//# sourceMappingURL=edit.svelte-4ba55a3c.js.map
