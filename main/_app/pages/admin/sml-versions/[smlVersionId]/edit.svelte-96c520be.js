import{S as s,i as r,s as n,I as t,J as o,k as a,e,t as i,j as c,Z as m,d as u,n as l,c as d,a as f,g as p,m as $,b as h,f as g,Q as V,o as v,u as j,w as k,x as S,K as b,v as x,M as E,L,P as M,N as I,r as w,h as y,W as O}from"../../../../chunks/vendor-9ef56761.js";import{p as P}from"../../../../chunks/routing-1d144003.js";import{p as q,q as N}from"../../../../chunks/graphql-7c12eb8b.js";import{T}from"../../../../chunks/Toast-70852bff.js";import{g as A}from"../../../../chunks/navigation-51f4a605.js";import{S as D}from"../../../../chunks/SMLVersionForm-c0820ca9.js";import{b as F}from"../../../../chunks/paths-6758d194.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/forms-8d025218.js";import"../../../../chunks/markdown-f46c64ca.js";function H(s){let r,n;return r=new D({props:{onSubmit:s[5],initialValues:s[3],submitText:"Save"}}),{c(){c(r.$$.fragment)},l(s){$(r.$$.fragment,s)},m(s,t){v(r,s,t),n=!0},p(s,n){const t={};8&n&&(t.initialValues=s[3]),r.$set(t)},i(s){n||(S(r.$$.fragment,s),n=!0)},o(s){j(r.$$.fragment,s),n=!1},d(s){x(r,s)}}}function J(s){let r,n,t,o=s[1].error.message+"";return{c(){r=e("p"),n=i("Oh no... "),t=i(o)},l(s){r=d(s,"P",{});var a=f(r);n=p(a,"Oh no... "),t=p(a,o),a.forEach(u)},m(s,o){g(s,r,o),V(r,n),V(r,t)},p(s,r){2&r&&o!==(o=s[1].error.message+"")&&y(t,o)},i:O,o:O,d(s){s&&u(r)}}}function K(s){let r,n;return{c(){r=e("p"),n=i("Loading...")},l(s){r=d(s,"P",{});var t=f(r);n=p(t,"Loading..."),t.forEach(u)},m(s,t){g(s,r,t),V(r,n)},p:O,i:O,o:O,d(s){s&&u(r)}}}function Q(s){let r,n;return{c(){r=e("span"),n=i(s[2])},l(t){r=d(t,"SPAN",{});var o=f(r);n=p(o,s[2]),o.forEach(u)},m(s,t){g(s,r,t),V(r,n)},p(s,r){4&r&&y(n,s[2])},d(s){s&&u(r)}}}function R(s){let r,n,E,L,M,I,y,O,P,q;const N=[K,J,H],A=[];function D(s,r){return s[1].fetching?0:s[1].error?1:2}function F(r){s[7](r)}M=D(s),I=A[M]=N[M](s);let R={$$slots:{default:[Q]},$$scope:{ctx:s}};return void 0!==s[0]&&(R.running=s[0]),O=new T({props:R}),t.push((()=>o(O,"running",F))),{c(){r=a(),n=e("h1"),E=i("Edit SMLVersion"),L=a(),I.c(),y=a(),c(O.$$.fragment),this.h()},l(s){m('[data-svelte="svelte-12w9olx"]',document.head).forEach(u),r=l(s),n=d(s,"H1",{class:!0});var t=f(n);E=p(t,"Edit SMLVersion"),t.forEach(u),L=l(s),I.l(s),y=l(s),$(O.$$.fragment,s),this.h()},h(){document.title="Admin: Edit SML Version - SMR",h(n,"class","text-4xl my-4 font-bold")},m(s,t){g(s,r,t),g(s,n,t),V(n,E),g(s,L,t),A[M].m(s,t),g(s,y,t),v(O,s,t),q=!0},p(s,[r]){let n=M;M=D(s),M===n?A[M].p(s,r):(w(),j(A[n],1,1,(()=>{A[n]=null})),k(),I=A[M],I?I.p(s,r):(I=A[M]=N[M](s),I.c()),S(I,1),I.m(y.parentNode,y));const t={};516&r&&(t.$$scope={dirty:r,ctx:s}),!P&&1&r&&(P=!0,t.running=s[0],b((()=>P=!1))),O.$set(t)},i(s){q||(S(I),S(O.$$.fragment,s),q=!0)},o(s){j(I),j(O.$$.fragment,s),q=!1},d(s){s&&u(r),s&&u(n),s&&u(L),A[M].d(s),s&&u(y),x(O,s)}}}const W=P();function Z(s,r,n){let t,o,{smlVersionId:a}=r,e="",i=!1;const c=E(q,{smlVersionID:a});L(s,c,(s=>n(1,o=s)));const m=M({query:N});return I(c),s.$$set=s=>{"smlVersionId"in s&&n(6,a=s.smlVersionId)},s.$$.update=()=>{1&s.$$.dirty&&(i||n(2,e="")),2&s.$$.dirty&&n(3,t=o.data?Object.assign(Object.assign({},o.data.getSMLVersion),{logo:void 0}):void 0)},[i,o,e,t,c,s=>{m({smlVersionID:a,smlVersion:s}).then((s=>{s.error?(console.error(s.error.message),n(2,e="Error editing sMLVersion: "+s.error.message),n(0,i=!0)):A(F+"/admin/sml-versions")}))},a,function(s){i=s,n(0,i)}]}class z extends s{constructor(s){super(),r(this,s,Z,R,n,{smlVersionId:6})}}export{z as default,W as load};
//# sourceMappingURL=edit.svelte-96c520be.js.map
