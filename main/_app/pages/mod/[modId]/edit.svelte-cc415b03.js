import{S as s,i as a,s as t,W as o,X as r,e as n,t as e,k as i,j as d,c,a as m,g as u,d as f,n as p,m as $,b as l,f as g,a2 as h,o as j,u as b,w as k,x as v,Y as x,v as E,_ as M,Z as w,a1 as y,$ as I,r as O,h as S,a8 as P}from"../../../chunks/vendor-db5fc542.js";import{p as T}from"../../../chunks/routing-405c8d47.js";import{J as q,w as L}from"../../../chunks/graphql-7b224d75.js";import{T as N}from"../../../chunks/Toast-c21bf6da.js";import{g as V}from"../../../chunks/navigation-51f4a605.js";import{M as A}from"../../../chunks/ModForm-35250209.js";import{b as F}from"../../../chunks/paths-6758d194.js";import"../../../chunks/singletons-12a22614.js";import"../../../chunks/forms-8d025218.js";import"../../../chunks/markdown-c60b2bfd.js";function H(s){let a,t;return a=new A({props:{onSubmit:s[5],initialValues:s[3],editing:!0,submitText:"Save"}}),{c(){d(a.$$.fragment)},l(s){$(a.$$.fragment,s)},m(s,o){j(a,s,o),t=!0},p(s,t){const o={};8&t&&(o.initialValues=s[3]),a.$set(o)},i(s){t||(v(a.$$.fragment,s),t=!0)},o(s){b(a.$$.fragment,s),t=!1},d(s){E(a,s)}}}function J(s){let a,t,o,r=s[1].error.message+"";return{c(){a=n("p"),t=e("Oh no... "),o=e(r)},l(s){a=c(s,"P",{});var n=m(a);t=u(n,"Oh no... "),o=u(n,r),n.forEach(f)},m(s,r){g(s,a,r),h(a,t),h(a,o)},p(s,a){2&a&&r!==(r=s[1].error.message+"")&&S(o,r)},i:P,o:P,d(s){s&&f(a)}}}function W(s){let a,t;return{c(){a=n("p"),t=e("Loading...")},l(s){a=c(s,"P",{});var o=m(a);t=u(o,"Loading..."),o.forEach(f)},m(s,o){g(s,a,o),h(a,t)},p:P,i:P,o:P,d(s){s&&f(a)}}}function X(s){let a,t;return{c(){a=n("span"),t=e(s[2])},l(o){a=c(o,"SPAN",{});var r=m(a);t=u(r,s[2]),r.forEach(f)},m(s,o){g(s,a,o),h(a,t)},p(s,a){4&a&&S(t,s[2])},d(s){s&&f(a)}}}function Y(s){let a,t,M,w,y,I,S,P,T;const q=[W,J,H],L=[];function V(s,a){return s[1].fetching?0:s[1].error?1:2}function A(a){s[7](a)}w=V(s),y=L[w]=q[w](s);let F={$$slots:{default:[X]},$$scope:{ctx:s}};return void 0!==s[0]&&(F.running=s[0]),S=new N({props:F}),o.push((()=>r(S,"running",A))),{c(){a=n("h1"),t=e("Edit Mod"),M=i(),y.c(),I=i(),d(S.$$.fragment),this.h()},l(s){a=c(s,"H1",{class:!0});var o=m(a);t=u(o,"Edit Mod"),o.forEach(f),M=p(s),y.l(s),I=p(s),$(S.$$.fragment,s),this.h()},h(){l(a,"class","text-4xl my-4 font-bold")},m(s,o){g(s,a,o),h(a,t),g(s,M,o),L[w].m(s,o),g(s,I,o),j(S,s,o),T=!0},p(s,[a]){let t=w;w=V(s),w===t?L[w].p(s,a):(O(),b(L[t],1,1,(()=>{L[t]=null})),k(),y=L[w],y?y.p(s,a):(y=L[w]=q[w](s),y.c()),v(y,1),y.m(I.parentNode,I));const o={};516&a&&(o.$$scope={dirty:a,ctx:s}),!P&&1&a&&(P=!0,o.running=s[0],x((()=>P=!1))),S.$set(o)},i(s){T||(v(y),v(S.$$.fragment,s),T=!0)},o(s){b(y),b(S.$$.fragment,s),T=!1},d(s){s&&f(a),s&&f(M),L[w].d(s),s&&f(I),E(S,s)}}}const Z=T();function _(s,a,t){let o,r,{modId:n}=a,e="",i=!1;const d=M(L,{mod:n});w(s,d,(s=>t(1,r=s)));const c=y({query:q});return I(d),s.$$set=s=>{"modId"in s&&t(6,n=s.modId)},s.$$.update=()=>{1&s.$$.dirty&&(i||t(2,e="")),2&s.$$.dirty&&t(3,o=r.data?Object.assign(Object.assign({},r.data.getMod),{logo:void 0}):void 0)},[i,r,e,o,d,s=>{c({modId:n,mod:s}).then((s=>{s.error?(console.error(s.error.message),t(2,e="Error editing mod: "+s.error.message),t(0,i=!0)):V(F+"/mod/"+s.data.updateMod.id)}))},n,function(s){i=s,t(0,i)}]}class z extends s{constructor(s){super(),a(this,s,_,Y,t,{modId:6})}}export{z as default,Z as load};
