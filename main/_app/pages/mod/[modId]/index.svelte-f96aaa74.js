import{S as e,i as t,s as o,e as r,t as a,k as s,c as n,a as l,g as c,d,n as i,b as h,f as u,R as f,h as m,X as g,l as p,x as v,j as $,m as E,o as w,u as b,v as x,r as I,w as V,ad as D,T as y,af as k,aE as M,aF as N,aG as S,ah as T,al as A,am as _,N as L,M as O,O as j,W as R,an as P,ao as z,$ as B,ac as C,Q as U,C as H,Y as G,J as q,K as F,L as J}from"../../../chunks/vendor-ecacde99.js";import{l as K}from"../../../chunks/gql-5f336112.js";import{u as Q,v as W,w as X}from"../../../chunks/graphql-7c12eb8b.js";import{p as Y}from"../../../chunks/routing-1d144003.js";import{b as Z}from"../../../chunks/api-82c76902.js";import{a as ee}from"../../../chunks/user-bb5babe5.js";import{b as te,a as oe}from"../../../chunks/paths-6758d194.js";import{m as re}from"../../../chunks/markdown-58cc1c31.js";import{g as ae}from"../../../chunks/navigation-51f4a605.js";import{D as se}from"../../../chunks/Dialog-da2d79a0.js";import{T as ne}from"../../../chunks/Toast-1c3d573d.js";import"../../../chunks/singletons-12a22614.js";function le(e){let t,o,p,v,$,E,w,b,x,I,V,D,y,k,M,N,S,T,A,_,L,O,j,R,P,z,B,C,U,H,G,q,F,J,K,Q,W,X,Y,Z,ee=e[0].source_url+"",te=e[0].created_at+"",oe=e[0].views+"",re=e[0].downloads+"",ae=e[0].mod_reference+"";return{c(){t=r("div"),o=r("h3"),p=a("Info"),v=s(),$=r("span"),E=r("strong"),w=a("Source:"),b=s(),x=r("a"),I=a(ee),D=r("br"),y=s(),k=r("span"),M=r("strong"),N=a("Created:"),S=s(),T=a(te),A=r("br"),_=s(),L=r("span"),O=r("strong"),j=a("Views:"),R=s(),P=a(oe),z=r("br"),B=s(),C=r("span"),U=r("strong"),H=a("Downloads:"),G=s(),q=a(re),F=r("br"),J=s(),K=r("span"),Q=r("strong"),W=a("Reference:"),X=s(),Y=a(ae),Z=r("br"),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var a=l(o);p=c(a,"Info"),a.forEach(d),v=i(r),$=n(r,"SPAN",{});var s=l($);E=n(s,"STRONG",{});var h=l(E);w=c(h,"Source:"),h.forEach(d),b=i(s),x=n(s,"A",{class:!0,href:!0});var u=l(x);I=c(u,ee),u.forEach(d),s.forEach(d),D=n(r,"BR",{}),y=i(r),k=n(r,"SPAN",{});var f=l(k);M=n(f,"STRONG",{});var m=l(M);N=c(m,"Created:"),m.forEach(d),S=i(f),T=c(f,te),f.forEach(d),A=n(r,"BR",{}),_=i(r),L=n(r,"SPAN",{});var g=l(L);O=n(g,"STRONG",{});var V=l(O);j=c(V,"Views:"),V.forEach(d),R=i(g),P=c(g,oe),g.forEach(d),z=n(r,"BR",{}),B=i(r),C=n(r,"SPAN",{});var se=l(C);U=n(se,"STRONG",{});var ne=l(U);H=c(ne,"Downloads:"),ne.forEach(d),G=i(se),q=c(se,re),se.forEach(d),F=n(r,"BR",{}),J=i(r),K=n(r,"SPAN",{});var le=l(K);Q=n(le,"STRONG",{});var ce=l(Q);W=c(ce,"Reference:"),ce.forEach(d),X=i(le),Y=c(le,ae),le.forEach(d),Z=n(r,"BR",{}),r.forEach(d),this.h()},h(){h(o,"class","text-2xl my-4 font-bold"),h(x,"class","underline text-yellow-500"),h(x,"href",V=e[0].source_url),h(t,"class","text-lg")},m(e,r){u(e,t,r),f(t,o),f(o,p),f(t,v),f(t,$),f($,E),f(E,w),f($,b),f($,x),f(x,I),f(t,D),f(t,y),f(t,k),f(k,M),f(M,N),f(k,S),f(k,T),f(t,A),f(t,_),f(t,L),f(L,O),f(O,j),f(L,R),f(L,P),f(t,z),f(t,B),f(t,C),f(C,U),f(U,H),f(C,G),f(C,q),f(t,F),f(t,J),f(t,K),f(K,Q),f(Q,W),f(K,X),f(K,Y),f(t,Z)},p(e,[t]){1&t&&ee!==(ee=e[0].source_url+"")&&m(I,ee),1&t&&V!==(V=e[0].source_url)&&h(x,"href",V),1&t&&te!==(te=e[0].created_at+"")&&m(T,te),1&t&&oe!==(oe=e[0].views+"")&&m(P,oe),1&t&&re!==(re=e[0].downloads+"")&&m(q,re),1&t&&ae!==(ae=e[0].mod_reference+"")&&m(Y,ae)},i:g,o:g,d(e){e&&d(t)}}}function ce(e,t,o){let{mod:r}=t;return e.$$set=e=>{"mod"in e&&o(0,r=e.mod)},[r]}class de extends e{constructor(e){super(),t(this,e,ce,le,o,{mod:0})}}function ie(e,t,o){const r=e.slice();return r[3]=t[o],r}function he(e){let t,o,g,p,I,V,D,M,N,S,T,A,_,L,O,j,R,P,z,B=e[0][e[3]].version+"",C=e[0][e[3]].created_at+"";return g=new y({props:{icon:e[2][e[3]],inline:!0,class:"inline-block"}}),j=new y({props:{icon:k,inline:!0,class:"inline-block"}}),{c(){t=r("div"),o=r("div"),$(g.$$.fragment),p=s(),I=r("div"),V=r("a"),D=a("Version "),M=a(B),S=s(),T=r("div"),A=a(C),_=s(),L=r("div"),O=r("a"),$(j.$$.fragment),P=s(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0});var a=l(o);E(g.$$.fragment,a),a.forEach(d),p=i(r),I=n(r,"DIV",{class:!0});var s=l(I);V=n(s,"A",{href:!0,class:!0});var h=l(V);D=c(h,"Version "),M=c(h,B),h.forEach(d),S=i(s),T=n(s,"DIV",{});var u=l(T);A=c(u,C),u.forEach(d),s.forEach(d),_=i(r),L=n(r,"DIV",{class:!0});var f=l(L);O=n(f,"A",{href:!0,class:!0});var m=l(O);E(j.$$.fragment,m),m.forEach(d),f.forEach(d),P=i(r),r.forEach(d),this.h()},h(){h(o,"class","text-4xl w-14 h-14 p-2.5"),h(V,"href",N=te+"/mod/"+e[1]+"/version/"+e[0][e[3]].id+"/"),h(V,"class","text-yellow-500 underline"),h(I,"class","grid grid-flow-row"),h(O,"href",R=Z+"/mod/"+e[1]+"/versions/"+e[0][e[3]].id+"/download"),h(O,"class","text-yellow-500 underline"),h(L,"class","text-3xl w-14 h-14 p-2.5"),h(t,"class","version svelte-m0mv1c")},m(e,r){u(e,t,r),f(t,o),w(g,o,null),f(t,p),f(t,I),f(I,V),f(V,D),f(V,M),f(I,S),f(I,T),f(T,A),f(t,_),f(t,L),f(L,O),w(j,O,null),f(t,P),z=!0},p(e,t){(!z||1&t)&&B!==(B=e[0][e[3]].version+"")&&m(M,B),(!z||3&t&&N!==(N=te+"/mod/"+e[1]+"/version/"+e[0][e[3]].id+"/"))&&h(V,"href",N),(!z||1&t)&&C!==(C=e[0][e[3]].created_at+"")&&m(A,C),(!z||3&t&&R!==(R=Z+"/mod/"+e[1]+"/versions/"+e[0][e[3]].id+"/download"))&&h(O,"href",R)},i(e){z||(v(g.$$.fragment,e),v(j.$$.fragment,e),z=!0)},o(e){b(g.$$.fragment,e),b(j.$$.fragment,e),z=!1},d(e){e&&d(t),x(g),x(j)}}}function ue(e){let t,o,r=e[0][e[3]]&&he(e);return{c(){r&&r.c(),t=p()},l(e){r&&r.l(e),t=p()},m(e,a){r&&r.m(e,a),u(e,t,a),o=!0},p(e,o){e[0][e[3]]?r?(r.p(e,o),1&o&&v(r,1)):(r=he(e),r.c(),v(r,1),r.m(t.parentNode,t)):r&&(I(),b(r,1,1,(()=>{r=null})),V())},i(e){o||(v(r),o=!0)},o(e){b(r),o=!1},d(e){r&&r.d(e),e&&d(t)}}}function fe(e){let t,o,m,g,p,$=Object.keys(e[2]),E=[];for(let r=0;r<$.length;r+=1)E[r]=ue(ie(e,$,r));const w=e=>b(E[e],1,1,(()=>{E[e]=null}));return{c(){t=r("div"),o=r("h3"),m=a("Latest Versions"),g=s();for(let e=0;e<E.length;e+=1)E[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var a=l(o);m=c(a,"Latest Versions"),a.forEach(d),g=i(r);for(let t=0;t<E.length;t+=1)E[t].l(r);r.forEach(d),this.h()},h(){h(o,"class","text-2xl my-4 font-bold"),h(t,"class","grid grid-flow-row gap-y-6")},m(e,r){u(e,t,r),f(t,o),f(o,m),f(t,g);for(let o=0;o<E.length;o+=1)E[o].m(t,null);p=!0},p(e,[o]){if(7&o){let r;for($=Object.keys(e[2]),r=0;r<$.length;r+=1){const a=ie(e,$,r);E[r]?(E[r].p(a,o),v(E[r],1)):(E[r]=ue(a),E[r].c(),v(E[r],1),E[r].m(t,null))}for(I(),r=$.length;r<E.length;r+=1)w(r);V()}},i(e){if(!p){for(let e=0;e<$.length;e+=1)v(E[e]);p=!0}},o(e){E=E.filter(Boolean);for(let t=0;t<E.length;t+=1)b(E[t]);p=!1},d(e){e&&d(t),D(E,e)}}}function me(e,t,o){const r={alpha:M,beta:N,release:S};let{latestVersions:a}=t,{modId:s}=t;return e.$$set=e=>{"latestVersions"in e&&o(0,a=e.latestVersions),"modId"in e&&o(1,s=e.modId)},[a,s,r]}class ge extends e{constructor(e){super(),t(this,e,me,fe,o,{latestVersions:0,modId:1})}}function pe(e,t,o){const r=e.slice();return r[1]=t[o],r}function ve(e){let t,o,g,p,v,$,E,w,b,x,I,V,D=e[1].user.username+"",y=e[1].role.charAt(0).toUpperCase()+e[1].role.slice(1).toLowerCase()+"";return{c(){t=r("div"),o=r("div"),p=s(),v=r("div"),$=r("a"),E=a(D),b=s(),x=r("div"),I=a(y),V=s(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0,style:!0}),l(o).forEach(d),p=i(r),v=n(r,"DIV",{class:!0});var a=l(v);$=n(a,"A",{href:!0,class:!0});var s=l($);E=c(s,D),s.forEach(d),b=i(a),x=n(a,"DIV",{});var h=l(x);I=c(h,y),h.forEach(d),a.forEach(d),V=i(r),r.forEach(d),this.h()},h(){h(o,"class","rounded-full bg-cover w-14 h-14"),h(o,"style",g=`background-image: url("${e[1].user.avatar}")`),h($,"href",w=te+"/user/"+e[1].user.id+"/"),h($,"class","text-yellow-500 underline"),h(v,"class","grid grid-flow-row"),h(t,"class","grid grid-flow-col auto-cols-max gap-x-4")},m(e,r){u(e,t,r),f(t,o),f(t,p),f(t,v),f(v,$),f($,E),f(v,b),f(v,x),f(x,I),f(t,V)},p(e,t){1&t&&g!==(g=`background-image: url("${e[1].user.avatar}")`)&&h(o,"style",g),1&t&&D!==(D=e[1].user.username+"")&&m(E,D),1&t&&w!==(w=te+"/user/"+e[1].user.id+"/")&&h($,"href",w),1&t&&y!==(y=e[1].role.charAt(0).toUpperCase()+e[1].role.slice(1).toLowerCase()+"")&&m(I,y)},d(e){e&&d(t)}}}function $e(e){let t,o,m,p,v,$=e[0],E=[];for(let r=0;r<$.length;r+=1)E[r]=ve(pe(e,$,r));return{c(){t=r("div"),o=r("h3"),m=a("Authors"),p=s(),v=r("div");for(let e=0;e<E.length;e+=1)E[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var a=l(o);m=c(a,"Authors"),a.forEach(d),p=i(r),v=n(r,"DIV",{class:!0});var s=l(v);for(let t=0;t<E.length;t+=1)E[t].l(s);s.forEach(d),r.forEach(d),this.h()},h(){h(o,"class","text-2xl my-4 font-bold"),h(v,"class","grid auto-rows-min text-lg gap-y-4"),h(t,"class","grid grid-flow-row gap-y-6")},m(e,r){u(e,t,r),f(t,o),f(o,m),f(t,p),f(t,v);for(let t=0;t<E.length;t+=1)E[t].m(v,null)},p(e,[t]){if(1&t){let o;for($=e[0],o=0;o<$.length;o+=1){const r=pe(e,$,o);E[o]?E[o].p(r,t):(E[o]=ve(r),E[o].c(),E[o].m(v,null))}for(;o<E.length;o+=1)E[o].d(1);E.length=$.length}},i:g,o:g,d(e){e&&d(t),D(E,e)}}}function Ee(e,t,o){let{authors:r}=t;return e.$$set=e=>{"authors"in e&&o(0,r=e.authors)},[r]}class we extends e{constructor(e){super(),t(this,e,Ee,$e,o,{authors:0})}}function be(e){let t,o,a,s;return{c(){t=r("div"),o=r("img"),this.h()},l(e){t=n(e,"DIV",{});var r=l(t);o=n(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(d),this.h()},h(){h(o,"class","rounded-lg max-w-lg"),T(o.src,a=e[1])||h(o,"src",a),h(o,"alt",s="Logo for "+e[0])},m(e,r){u(e,t,r),f(t,o)},p(e,[t]){2&t&&!T(o.src,a=e[1])&&h(o,"src",a),1&t&&s!==(s="Logo for "+e[0])&&h(o,"alt",s)},i:g,o:g,d(e){e&&d(t)}}}function xe(e,t,o){let r,{modLogo:a}=t,{modName:s}=t;return e.$$set=e=>{"modLogo"in e&&o(2,a=e.modLogo),"modName"in e&&o(0,s=e.modName)},e.$$.update=()=>{4&e.$$.dirty&&o(1,r=a||oe+"/images/no_image.png")},[s,r,a]}class Ie extends e{constructor(e){super(),t(this,e,xe,be,o,{modLogo:2,modName:0})}}function Ve(e){return{c:g,l:g,m:g,p:g,d:g}}function De(e){let t,o=e[2]+"";return{c(){t=r("p")},l(e){t=n(e,"P",{}),l(t).forEach(d)},m(e,r){u(e,t,r),t.innerHTML=o},p(e,r){1&r&&o!==(o=e[2]+"")&&(t.innerHTML=o)},d(e){e&&d(t)}}}function ye(e){return{c:g,l:g,m:g,p:g,d:g}}function ke(e){let t,o,a={ctx:e,current:null,token:null,hasCatch:!1,pending:ye,then:De,catch:Ve,value:2};return A(o=e[0],a),{c(){t=r("div"),a.block.c(),this.h()},l(e){t=n(e,"DIV",{class:!0});var o=l(t);a.block.l(o),o.forEach(d),this.h()},h(){h(t,"class","markdown-content")},m(e,o){u(e,t,o),a.block.m(t,a.anchor=null),a.mount=()=>t,a.anchor=null},p(t,[r]){e=t,a.ctx=e,1&r&&o!==(o=e[0])&&A(o,a)||_(a,e,r)},i:g,o:g,d(e){e&&d(t),a.block.d(),a.token=null,a=null}}}function Me(e,t,o){let r,{mod:a}=t;return e.$$set=e=>{"mod"in e&&o(1,a=e.mod)},e.$$.update=()=>{2&e.$$.dirty&&o(0,r=a.full_description?re(a.full_description):a.short_description)},[r,a]}class Ne extends e{constructor(e){super(),t(this,e,Me,ke,o,{mod:1})}}function Se(e,t,o){const r=e.slice();return r[6]=t[o],r}function Te(e){let t,o,m,g,p,$,E,w,x,y,k,M,N,S,T,A,_,L,O,j=e[2].data.getMod.versions,R=[];for(let r=0;r<j.length;r+=1)R[r]=Pe(Se(e,j,r));const P=e=>b(R[e],1,1,(()=>{R[e]=null}));return{c(){t=r("div"),o=r("div"),m=a("Version"),g=s(),p=r("div"),$=a("Stability"),E=s(),w=r("div"),x=a("SML Version"),y=s(),k=r("div"),M=a("Downloads"),N=s(),S=r("div"),T=a("Upload Date"),A=s(),_=r("div"),L=s();for(let e=0;e<R.length;e+=1)R[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{});var a=l(o);m=c(a,"Version"),a.forEach(d),g=i(r),p=n(r,"DIV",{});var s=l(p);$=c(s,"Stability"),s.forEach(d),E=i(r),w=n(r,"DIV",{});var h=l(w);x=c(h,"SML Version"),h.forEach(d),y=i(r),k=n(r,"DIV",{});var u=l(k);M=c(u,"Downloads"),u.forEach(d),N=i(r),S=n(r,"DIV",{});var f=l(S);T=c(f,"Upload Date"),f.forEach(d),A=i(r),_=n(r,"DIV",{}),l(_).forEach(d),L=i(r);for(let t=0;t<R.length;t+=1)R[t].l(r);r.forEach(d),this.h()},h(){h(t,"class","grid grid-cols-6 versions svelte-18r325z")},m(e,r){u(e,t,r),f(t,o),f(o,m),f(t,g),f(t,p),f(p,$),f(t,E),f(t,w),f(w,x),f(t,y),f(t,k),f(k,M),f(t,N),f(t,S),f(S,T),f(t,A),f(t,_),f(t,L);for(let o=0;o<R.length;o+=1)R[o].m(t,null);O=!0},p(e,o){if(23&o){let r;for(j=e[2].data.getMod.versions,r=0;r<j.length;r+=1){const a=Se(e,j,r);R[r]?(R[r].p(a,o),v(R[r],1)):(R[r]=Pe(a),R[r].c(),v(R[r],1),R[r].m(t,null))}for(I(),r=j.length;r<R.length;r+=1)P(r);V()}},i(e){if(!O){for(let e=0;e<j.length;e+=1)v(R[e]);O=!0}},o(e){R=R.filter(Boolean);for(let t=0;t<R.length;t+=1)b(R[t]);O=!1},d(e){e&&d(t),D(R,e)}}}function Ae(e){let t,o,s,i=e[2].error.message+"";return{c(){t=r("p"),o=a("Oh no... "),s=a(i)},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Oh no... "),s=c(r,i),r.forEach(d)},m(e,r){u(e,t,r),f(t,o),f(t,s)},p(e,t){4&t&&i!==(i=e[2].error.message+"")&&m(s,i)},i:g,o:g,d(e){e&&d(t)}}}function _e(e){let t,o;return{c(){t=r("p"),o=a("Loading...")},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Loading..."),r.forEach(d)},m(e,r){u(e,t,r),f(t,o)},p:g,i:g,o:g,d(e){e&&d(t)}}}function Le(e){let t,o,g,p,v,$,E,w,b,x,I,V=e[6].size+"",D=e[6].hash+"",y={ctx:e,current:null,token:null,hasCatch:!1,pending:Re,then:je,catch:Oe,value:9};return A(x=re(e[6].changelog),y),{c(){t=r("div"),o=a("Size: "),g=a(V),p=s(),v=r("div"),$=a("Hash: "),E=a(D),w=s(),b=r("div"),y.block.c(),I=s(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=c(r,"Size: "),g=c(r,V),r.forEach(d),p=i(e),v=n(e,"DIV",{class:!0});var a=l(v);$=c(a,"Hash: "),E=c(a,D),a.forEach(d),w=i(e),b=n(e,"DIV",{class:!0});var s=l(b);y.block.l(s),I=i(s),s.forEach(d),this.h()},h(){h(t,"class","col-span-3 p-2"),h(v,"class","col-span-3 p-2"),h(b,"class","col-span-6 p-2 markdown-content")},m(e,r){u(e,t,r),f(t,o),f(t,g),u(e,p,r),u(e,v,r),f(v,$),f(v,E),u(e,w,r),u(e,b,r),y.block.m(b,y.anchor=null),y.mount=()=>b,y.anchor=I,f(b,I)},p(t,o){e=t,4&o&&V!==(V=e[6].size+"")&&m(g,V),4&o&&D!==(D=e[6].hash+"")&&m(E,D),y.ctx=e,4&o&&x!==(x=re(e[6].changelog))&&A(x,y)||_(y,e,o)},d(e){e&&d(t),e&&d(p),e&&d(v),e&&d(w),e&&d(b),y.block.d(),y.token=null,y=null}}}function Oe(e){return{c:g,l:g,m:g,p:g,d:g}}function je(e){let t,o,r=e[9]+"";return{c(){t=new P,o=p(),this.h()},l(e){t=z(e),o=p(),this.h()},h(){t.a=o},m(e,a){t.m(r,e,a),u(e,o,a)},p(e,o){4&o&&r!==(r=e[9]+"")&&t.p(r)},d(e){e&&d(o),e&&t.d()}}}function Re(e){return{c:g,l:g,m:g,p:g,d:g}}function Pe(e){let t,o,g,I,V,D,M,N,S,T,A,_,L,O,j,P,z,B,C,U,H,G,q,F,J,K,Q,W,X,Y,ee,oe,re,ae,se,ne=e[6].version+"",le=e[6].stability+"",ce=e[6].sml_version+"",de=e[6].downloads+"",ie=e[6].created_at+"",he=e[1].has(e[6].id);function ue(){return e[5](e[6])}Y=new y({props:{icon:k,inline:!0,class:"inline-block"}});let fe=he&&Le(e);return{c(){t=r("div"),o=r("div"),g=a(ne),I=s(),V=r("div"),D=a(le),M=s(),N=r("div"),S=a(ce),T=s(),A=r("div"),_=a(de),L=s(),O=r("div"),j=a(ie),P=s(),z=r("div"),B=r("a"),C=a("View"),H=s(),G=r("a"),q=a("Download"),J=s(),K=r("a"),Q=r("span"),W=a("Install"),X=s(),$(Y.$$.fragment),ee=s(),fe&&fe.c(),oe=p(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0});var a=l(o);g=c(a,ne),a.forEach(d),I=i(r),V=n(r,"DIV",{class:!0});var s=l(V);D=c(s,le),s.forEach(d),M=i(r),N=n(r,"DIV",{class:!0});var h=l(N);S=c(h,ce),h.forEach(d),T=i(r),A=n(r,"DIV",{class:!0});var u=l(A);_=c(u,de),u.forEach(d),L=i(r),O=n(r,"DIV",{class:!0});var f=l(O);j=c(f,ie),f.forEach(d),P=i(r),z=n(r,"DIV",{class:!0});var m=l(z);B=n(m,"A",{href:!0,class:!0});var v=l(B);C=c(v,"View"),v.forEach(d),H=i(m),G=n(m,"A",{href:!0,class:!0});var $=l(G);q=c($,"Download"),$.forEach(d),J=i(m),K=n(m,"A",{href:!0,class:!0});var w=l(K);Q=n(w,"SPAN",{});var b=l(Q);W=c(b,"Install"),b.forEach(d),X=i(w),E(Y.$$.fragment,w),w.forEach(d),m.forEach(d),r.forEach(d),ee=i(e),fe&&fe.l(e),oe=p(),this.h()},h(){h(o,"class","svelte-18r325z"),h(V,"class","svelte-18r325z"),h(N,"class","svelte-18r325z"),h(A,"class","svelte-18r325z"),h(O,"class","svelte-18r325z"),h(B,"href",U=te+"/mod/"+e[0]+"/version/"+e[6].id),h(B,"class","py-1 px-4 rounded text-base bg-blue-500 text-center"),h(G,"href",F=Z+"/mod/"+e[0]+"/versions/"+e[6].id+"/download"),h(G,"class","py-1 px-4 rounded text-base bg-green-600 text-center"),h(K,"href",te),h(K,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center"),h(z,"class","grid grid-flow-col gap-4 svelte-18r325z"),h(t,"class","contents version-header svelte-18r325z")},m(e,r){u(e,t,r),f(t,o),f(o,g),f(t,I),f(t,V),f(V,D),f(t,M),f(t,N),f(N,S),f(t,T),f(t,A),f(A,_),f(t,L),f(t,O),f(O,j),f(t,P),f(t,z),f(z,B),f(B,C),f(z,H),f(z,G),f(G,q),f(z,J),f(z,K),f(K,Q),f(Q,W),f(K,X),w(Y,K,null),u(e,ee,r),fe&&fe.m(e,r),u(e,oe,r),re=!0,ae||(se=R(t,"click",ue),ae=!0)},p(t,o){e=t,(!re||4&o)&&ne!==(ne=e[6].version+"")&&m(g,ne),(!re||4&o)&&le!==(le=e[6].stability+"")&&m(D,le),(!re||4&o)&&ce!==(ce=e[6].sml_version+"")&&m(S,ce),(!re||4&o)&&de!==(de=e[6].downloads+"")&&m(_,de),(!re||4&o)&&ie!==(ie=e[6].created_at+"")&&m(j,ie),(!re||5&o&&U!==(U=te+"/mod/"+e[0]+"/version/"+e[6].id))&&h(B,"href",U),(!re||5&o&&F!==(F=Z+"/mod/"+e[0]+"/versions/"+e[6].id+"/download"))&&h(G,"href",F),6&o&&(he=e[1].has(e[6].id)),he?fe?fe.p(e,o):(fe=Le(e),fe.c(),fe.m(oe.parentNode,oe)):fe&&(fe.d(1),fe=null)},i(e){re||(v(Y.$$.fragment,e),re=!0)},o(e){b(Y.$$.fragment,e),re=!1},d(e){e&&d(t),x(Y),e&&d(ee),fe&&fe.d(e),e&&d(oe),ae=!1,se()}}}function ze(e){let t,o,r,a;const s=[_e,Ae,Te],n=[];function l(e,t){return e[2].fetching?0:e[2].error?1:2}return t=l(e),o=n[t]=s[t](e),{c(){o.c(),r=p()},l(e){o.l(e),r=p()},m(e,o){n[t].m(e,o),u(e,r,o),a=!0},p(e,[a]){let c=t;t=l(e),t===c?n[t].p(e,a):(I(),b(n[c],1,1,(()=>{n[c]=null})),V(),o=n[t],o?o.p(e,a):(o=n[t]=s[t](e),o.c()),v(o,1),o.m(r.parentNode,r))},i(e){a||(v(o),a=!0)},o(e){b(o),a=!1},d(e){n[t].d(e),e&&d(r)}}}function Be(e,t,o){let r,{modId:a}=t,s=new Set;const n=L(Q,{mod:a,limit:100,offset:0});O(e,n,(e=>o(2,r=e))),j(n);const l=e=>{s.has(e)?s.delete(e):s.add(e),o(1,s)};return e.$$set=e=>{"modId"in e&&o(0,a=e.modId)},[a,s,r,n,l,e=>l(e.id)]}class Ce extends e{constructor(e){super(),t(this,e,Be,ze,o,{modId:0})}}function Ue(e){let t,o,a,l,c,f,m;return document.title=t=e[2].data.getMod.name+" - SMR",{c(){o=s(),a=r("meta"),c=s(),f=r("meta"),this.h()},l(e){o=i(e),a=n(e,"META",{property:!0,content:!0}),c=i(e),f=n(e,"META",{property:!0,content:!0}),this.h()},h(){h(a,"property","og:image"),h(a,"content",l=e[2].data.getMod.logo),h(f,"property","og:description"),h(f,"content",m=e[2].data.getMod.short_description)},m(e,t){u(e,o,t),u(e,a,t),u(e,c,t),u(e,f,t)},p(e,o){4&o&&t!==(t=e[2].data.getMod.name+" - SMR")&&(document.title=t),4&o&&l!==(l=e[2].data.getMod.logo)&&h(a,"content",l),4&o&&m!==(m=e[2].data.getMod.short_description)&&h(f,"content",m)},d(e){e&&d(o),e&&d(a),e&&d(c),e&&d(f)}}}function He(e){let t;return{c(){t=a("404")},l(e){t=c(e,"404")},m(e,o){u(e,t,o)},p:g,i:g,o:g,d(e){e&&d(t)}}}function Ge(e){let t,o,g,p,D,y,k,M,N,S,T,A,_,L,O,j,P,z,B,C,U,H,G,K,Q,W,X,Y,Z,ee=e[2].data.getMod.name+"",te=e[6]&&Je(e);function oe(e,t){return e[3]?Ke:Qe}let re=oe(e),ae=re(e);const le=[Xe,We],ce=[];function ie(e,t){return e[3]?1:0}function he(t){e[21](t)}S=ie(e),T=ce[S]=le[S](e),L=new Ie({props:{modLogo:e[2].data.getMod.logo,modName:e[2].data.getMod.name}}),j=new de({props:{mod:e[2].data.getMod}}),z=new ge({props:{modId:e[2].data.getMod.id,latestVersions:e[2].data.getMod.latestVersions}}),C=new we({props:{authors:e[2].data.getMod.authors}});let ue={$$slots:{default:[Ye]},$$scope:{ctx:e}};function fe(t){e[22](t)}void 0!==e[7]&&(ue.open=e[7]),H=new se({props:ue}),q.push((()=>F(H,"open",he)));let me={$$slots:{default:[Ze]},$$scope:{ctx:e}};return void 0!==e[5]&&(me.running=e[5]),Q=new ne({props:me}),q.push((()=>F(Q,"running",fe))),{c(){t=r("div"),o=r("div"),g=r("div"),p=r("h1"),D=a(ee),y=s(),te&&te.c(),k=s(),M=r("button"),ae.c(),N=s(),T.c(),A=s(),_=r("div"),$(L.$$.fragment),O=s(),$(j.$$.fragment),P=s(),$(z.$$.fragment),B=s(),$(C.$$.fragment),U=s(),$(H.$$.fragment),K=s(),$(Q.$$.fragment),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0});var a=l(o);g=n(a,"DIV",{class:!0});var s=l(g);p=n(s,"H1",{class:!0});var h=l(p);D=c(h,ee),h.forEach(d),y=i(s),te&&te.l(s),k=i(s),M=n(s,"BUTTON",{class:!0});var u=l(M);ae.l(u),u.forEach(d),s.forEach(d),N=i(a),T.l(a),a.forEach(d),A=i(r),_=n(r,"DIV",{class:!0});var f=l(_);E(L.$$.fragment,f),O=i(f),E(j.$$.fragment,f),P=i(f),E(z.$$.fragment,f),B=i(f),E(C.$$.fragment,f),f.forEach(d),r.forEach(d),U=i(e),E(H.$$.fragment,e),K=i(e),E(Q.$$.fragment,e),this.h()},h(){h(p,"class","text-4xl my-4 font-bold"),h(M,"class","py-2 px-4 rounded text-base bg-blue-500"),h(g,"class","grid grid-flow-col grid-auto-max h-auto gap-4 items-center svelte-2pmst8"),h(o,"class","grid grid-cols-1 auto-rows-min gap-8"),h(_,"class","grid grid-cols-1 auto-rows-min gap-8"),h(t,"class","grid gap-8 grid-auto-max svelte-2pmst8")},m(r,a){u(r,t,a),f(t,o),f(o,g),f(g,p),f(p,D),f(g,y),te&&te.m(g,null),f(g,k),f(g,M),ae.m(M,null),f(o,N),ce[S].m(o,null),f(t,A),f(t,_),w(L,_,null),f(_,O),w(j,_,null),f(_,P),w(z,_,null),f(_,B),w(C,_,null),u(r,U,a),w(H,r,a),u(r,K,a),w(Q,r,a),X=!0,Y||(Z=R(M,"click",e[18]),Y=!0)},p(e,t){(!X||4&t)&&ee!==(ee=e[2].data.getMod.name+"")&&m(D,ee),e[6]?te?te.p(e,t):(te=Je(e),te.c(),te.m(g,k)):te&&(te.d(1),te=null),re!==(re=oe(e))&&(ae.d(1),ae=re(e),ae&&(ae.c(),ae.m(M,null)));let r=S;S=ie(e),S===r?ce[S].p(e,t):(I(),b(ce[r],1,1,(()=>{ce[r]=null})),V(),T=ce[S],T?T.p(e,t):(T=ce[S]=le[S](e),T.c()),v(T,1),T.m(o,null));const a={};4&t&&(a.modLogo=e[2].data.getMod.logo),4&t&&(a.modName=e[2].data.getMod.name),L.$set(a);const s={};4&t&&(s.mod=e[2].data.getMod),j.$set(s);const n={};4&t&&(n.modId=e[2].data.getMod.id),4&t&&(n.latestVersions=e[2].data.getMod.latestVersions),z.$set(n);const l={};4&t&&(l.authors=e[2].data.getMod.authors),C.$set(l);const c={};16777216&t&&(c.$$scope={dirty:t,ctx:e}),!G&&128&t&&(G=!0,c.open=e[7],J((()=>G=!1))),H.$set(c);const d={};16777232&t&&(d.$$scope={dirty:t,ctx:e}),!W&&32&t&&(W=!0,d.running=e[5],J((()=>W=!1))),Q.$set(d)},i(e){X||(v(T),v(L.$$.fragment,e),v(j.$$.fragment,e),v(z.$$.fragment,e),v(C.$$.fragment,e),v(H.$$.fragment,e),v(Q.$$.fragment,e),X=!0)},o(e){b(T),b(L.$$.fragment,e),b(j.$$.fragment,e),b(z.$$.fragment,e),b(C.$$.fragment,e),b(H.$$.fragment,e),b(Q.$$.fragment,e),X=!1},d(e){e&&d(t),te&&te.d(),ae.d(),ce[S].d(),x(L),x(j),x(z),x(C),e&&d(U),x(H,e),e&&d(K),x(Q,e),Y=!1,Z()}}}function qe(e){let t,o,s,i=e[2].error.message+"";return{c(){t=r("p"),o=a("Oh no... "),s=a(i)},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Oh no... "),s=c(r,i),r.forEach(d)},m(e,r){u(e,t,r),f(t,o),f(t,s)},p(e,t){4&t&&i!==(i=e[2].error.message+"")&&m(s,i)},i:g,o:g,d(e){e&&d(t)}}}function Fe(e){let t,o;return{c(){t=r("p"),o=a("Loading...")},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Loading..."),r.forEach(d)},m(e,r){u(e,t,r),f(t,o)},p:g,i:g,o:g,d(e){e&&d(t)}}}function Je(e){let t,o,m,p,v,$,E,w,b,x;return{c(){t=r("button"),o=a("Edit"),m=s(),p=r("button"),v=a("Delete"),$=s(),E=r("button"),w=a("New Version"),this.h()},l(e){t=n(e,"BUTTON",{class:!0});var r=l(t);o=c(r,"Edit"),r.forEach(d),m=i(e),p=n(e,"BUTTON",{class:!0});var a=l(p);v=c(a,"Delete"),a.forEach(d),$=i(e),E=n(e,"BUTTON",{class:!0});var s=l(E);w=c(s,"New Version"),s.forEach(d),this.h()},h(){h(t,"class","py-2 px-4 rounded text-base bg-yellow-600"),h(p,"class","py-2 px-4 rounded text-base bg-red-500"),h(E,"class","py-2 px-4 rounded text-base bg-green-600")},m(r,a){u(r,t,a),f(t,o),u(r,m,a),u(r,p,a),f(p,v),u(r,$,a),u(r,E,a),f(E,w),b||(x=[R(t,"click",e[15]),R(p,"click",e[16]),R(E,"click",e[17])],b=!0)},p:g,d(e){e&&d(t),e&&d(m),e&&d(p),e&&d($),e&&d(E),b=!1,G(x)}}}function Ke(e){let t;return{c(){t=a("Description")},l(e){t=c(e,"Description")},m(e,o){u(e,t,o)},d(e){e&&d(t)}}}function Qe(e){let t;return{c(){t=a("Versions")},l(e){t=c(e,"Versions")},m(e,o){u(e,t,o)},d(e){e&&d(t)}}}function We(e){let t,o;return t=new Ce({props:{modId:e[2].data.getMod.id}}),{c(){$(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){w(t,e,r),o=!0},p(e,o){const r={};4&o&&(r.modId=e[2].data.getMod.id),t.$set(r)},i(e){o||(v(t.$$.fragment,e),o=!0)},o(e){b(t.$$.fragment,e),o=!1},d(e){x(t,e)}}}function Xe(e){let t,o;return t=new Ne({props:{mod:e[2].data.getMod}}),{c(){$(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){w(t,e,r),o=!0},p(e,o){const r={};4&o&&(r.mod=e[2].data.getMod),t.$set(r)},i(e){o||(v(t.$$.fragment,e),o=!0)},o(e){b(t.$$.fragment,e),o=!1},d(e){x(t,e)}}}function Ye(e){let t,o,m,p,v,$,E,w,b,x,I,V,D,y;return{c(){t=r("div"),o=r("h3"),m=a("Delete Mod?"),p=s(),v=r("span"),$=a("Are you sure you wish to delete this mod"),E=s(),w=r("button"),b=a("Cancel"),x=s(),I=r("button"),V=a("Delete"),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var a=l(o);m=c(a,"Delete Mod?"),a.forEach(d),p=i(r),v=n(r,"SPAN",{});var s=l(v);$=c(s,"Are you sure you wish to delete this mod"),s.forEach(d),E=i(r),w=n(r,"BUTTON",{class:!0});var h=l(w);b=c(h,"Cancel"),h.forEach(d),x=i(r),I=n(r,"BUTTON",{class:!0});var u=l(I);V=c(u,"Delete"),u.forEach(d),r.forEach(d),this.h()},h(){h(o,"class","text-2xl font-bold"),h(w,"class","py-1 px-4 rounded text-base bg-yellow-600"),h(I,"class","py-1 px-4 rounded text-base bg-red-500"),h(t,"class","grid grid-flow-row gap-4")},m(r,a){u(r,t,a),f(t,o),f(o,m),f(t,p),f(t,v),f(v,$),f(t,E),f(t,w),f(w,b),f(t,x),f(t,I),f(I,V),D||(y=[R(w,"click",e[19]),R(I,"click",e[20])],D=!0)},p:g,d(e){e&&d(t),D=!1,G(y)}}}function Ze(e){let t,o;return{c(){t=r("span"),o=a(e[4])},l(r){t=n(r,"SPAN",{});var a=l(t);o=c(a,e[4]),a.forEach(d)},m(e,r){u(e,t,r),f(t,o)},p(e,t){16&t&&m(o,e[4])},d(e){e&&d(t)}}}function et(e){let t,o,r,a,n,l,c=!e[2].fetching&&!e[2].error&&e[2].data.getMod&&Ue(e);const h=[Fe,qe,Ge,He],m=[];function g(e,t){return e[2].fetching?0:e[2].error?1:e[2].data.getMod?2:3}return r=g(e),a=m[r]=h[r](e),{c(){c&&c.c(),t=p(),o=s(),a.c(),n=p()},l(e){const r=B('[data-svelte="svelte-1bz70yg"]',document.head);c&&c.l(r),t=p(),r.forEach(d),o=i(e),a.l(e),n=p()},m(e,a){c&&c.m(document.head,null),f(document.head,t),u(e,o,a),m[r].m(e,a),u(e,n,a),l=!0},p(e,[o]){e[2].fetching||e[2].error||!e[2].data.getMod?c&&(c.d(1),c=null):c?c.p(e,o):(c=Ue(e),c.c(),c.m(t.parentNode,t));let s=r;r=g(e),r===s?m[r].p(e,o):(I(),b(m[s],1,1,(()=>{m[s]=null})),V(),a=m[r],a?a.p(e,o):(a=m[r]=h[r](e),a.c()),v(a,1),a.m(n.parentNode,n))},i(e){l||(v(a),l=!0)},o(e){b(a),l=!1},d(e){c&&c.d(e),d(t),e&&d(o),m[r].d(e),e&&d(n)}}}var tt=function(e,t,o,r){return new(o||(o=Promise))((function(a,s){function n(e){try{c(r.next(e))}catch(t){s(t)}}function l(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,l)}c((r=r.apply(e,t||[])).next())}))};const ot=L(W,{mod:void 0}),rt=Y((e=>tt(void 0,void 0,void 0,(function*(){return ot.variables.mod=e.page.params.modId,K({mod:ot})(e)}))));function at(e,t,o){let r,a,s,n,l=g,c=()=>(l(),l=C(m,(e=>o(2,s=e))),m);var d,i,h,u;O(e,ee,(e=>o(14,a=e))),e.$$.on_destroy.push((()=>l()));let{modId:f}=t,{mod:m}=t;c();let p=!1,v="",$=!1;const E=U({query:X}),w=H(!1);O(e,w,(e=>o(7,n=e)));const b=()=>{E({modId:f}).then((e=>{e.error?(console.error(e.error.message),o(4,v="Error deleting mod: "+e.error.message),o(5,$=!0)):ae(te+"/mods")}))};j(m);return e.$$set=e=>{"modId"in e&&o(0,f=e.modId),"mod"in e&&c(o(1,m=e.mod))},e.$$.update=()=>{31748&e.$$.dirty&&o(6,r=(null===o(10,d=null==a?void 0:a.roles)||void 0===d?void 0:d.deleteContent)||(null===o(13,u=null===o(12,h=null===o(11,i=null==s?void 0:s.data)||void 0===i?void 0:i.getMod)||void 0===h?void 0:h.authors)||void 0===u?void 0:u.findIndex((e=>e.user_id==(null==a?void 0:a.id))))>=0)},[f,m,s,p,v,$,r,n,w,b,d,i,h,u,a,()=>ae(te+"/mod/"+f+"/edit"),()=>w.set(!0),()=>ae(te+"/mod/"+f+"/new-version"),()=>o(3,p=!p),()=>w.set(!1),()=>b(),function(e){n=e,w.set(n)},function(e){$=e,o(5,$)}]}class st extends e{constructor(e){super(),t(this,e,at,et,o,{modId:0,mod:1})}}export{st as default,rt as load};
//# sourceMappingURL=index.svelte-f96aaa74.js.map
