import{S as e,i as t,s as o,e as r,t as s,k as a,c as n,a as l,g as c,d,n as i,b as h,f as u,Q as f,h as m,W as g,l as p,x as v,j as $,m as E,o as w,u as b,v as x,r as I,w as V,ac as D,R as y,ae as k,aD as M,aE as N,aF as S,ag as A,ak as T,al as L,M as _,L as O,N as j,V as P,am as R,an as B,Z as z,ab as C,P as U,C as H,X as G,I as q,J as F,K as J}from"../../../chunks/vendor-9ef56761.js";import{l as K}from"../../../chunks/gql-fb82bae1.js";import{u as Q,v as W,w as X}from"../../../chunks/graphql-7c12eb8b.js";import{p as Z}from"../../../chunks/routing-1d144003.js";import{b as Y}from"../../../chunks/api-82c76902.js";import{a as ee}from"../../../chunks/user-f1838cad.js";import{b as te}from"../../../chunks/paths-6758d194.js";import{m as oe}from"../../../chunks/markdown-f46c64ca.js";import{g as re}from"../../../chunks/navigation-51f4a605.js";import{D as se}from"../../../chunks/Dialog-fc65cda9.js";import{T as ae}from"../../../chunks/Toast-70852bff.js";import"../../../chunks/singletons-12a22614.js";function ne(e){let t,o,p,v,$,E,w,b,x,I,V,D,y,k,M,N,S,A,T,L,_,O,j,P,R,B,z,C,U,H,G,q,F,J,K,Q,W,X,Z,Y,ee=e[0].source_url+"",te=e[0].created_at+"",oe=e[0].views+"",re=e[0].downloads+"",se=e[0].mod_reference+"";return{c(){t=r("div"),o=r("h3"),p=s("Info"),v=a(),$=r("span"),E=r("strong"),w=s("Source:"),b=a(),x=r("a"),I=s(ee),D=r("br"),y=a(),k=r("span"),M=r("strong"),N=s("Created:"),S=a(),A=s(te),T=r("br"),L=a(),_=r("span"),O=r("strong"),j=s("Views:"),P=a(),R=s(oe),B=r("br"),z=a(),C=r("span"),U=r("strong"),H=s("Downloads:"),G=a(),q=s(re),F=r("br"),J=a(),K=r("span"),Q=r("strong"),W=s("Reference:"),X=a(),Z=s(se),Y=r("br"),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var s=l(o);p=c(s,"Info"),s.forEach(d),v=i(r),$=n(r,"SPAN",{});var a=l($);E=n(a,"STRONG",{});var h=l(E);w=c(h,"Source:"),h.forEach(d),b=i(a),x=n(a,"A",{class:!0,href:!0});var u=l(x);I=c(u,ee),u.forEach(d),a.forEach(d),D=n(r,"BR",{}),y=i(r),k=n(r,"SPAN",{});var f=l(k);M=n(f,"STRONG",{});var m=l(M);N=c(m,"Created:"),m.forEach(d),S=i(f),A=c(f,te),f.forEach(d),T=n(r,"BR",{}),L=i(r),_=n(r,"SPAN",{});var g=l(_);O=n(g,"STRONG",{});var V=l(O);j=c(V,"Views:"),V.forEach(d),P=i(g),R=c(g,oe),g.forEach(d),B=n(r,"BR",{}),z=i(r),C=n(r,"SPAN",{});var ae=l(C);U=n(ae,"STRONG",{});var ne=l(U);H=c(ne,"Downloads:"),ne.forEach(d),G=i(ae),q=c(ae,re),ae.forEach(d),F=n(r,"BR",{}),J=i(r),K=n(r,"SPAN",{});var le=l(K);Q=n(le,"STRONG",{});var ce=l(Q);W=c(ce,"Reference:"),ce.forEach(d),X=i(le),Z=c(le,se),le.forEach(d),Y=n(r,"BR",{}),r.forEach(d),this.h()},h(){h(o,"class","text-2xl my-4 font-bold"),h(x,"class","underline text-yellow-500"),h(x,"href",V=e[0].source_url),h(t,"class","text-lg")},m(e,r){u(e,t,r),f(t,o),f(o,p),f(t,v),f(t,$),f($,E),f(E,w),f($,b),f($,x),f(x,I),f(t,D),f(t,y),f(t,k),f(k,M),f(M,N),f(k,S),f(k,A),f(t,T),f(t,L),f(t,_),f(_,O),f(O,j),f(_,P),f(_,R),f(t,B),f(t,z),f(t,C),f(C,U),f(U,H),f(C,G),f(C,q),f(t,F),f(t,J),f(t,K),f(K,Q),f(Q,W),f(K,X),f(K,Z),f(t,Y)},p(e,[t]){1&t&&ee!==(ee=e[0].source_url+"")&&m(I,ee),1&t&&V!==(V=e[0].source_url)&&h(x,"href",V),1&t&&te!==(te=e[0].created_at+"")&&m(A,te),1&t&&oe!==(oe=e[0].views+"")&&m(R,oe),1&t&&re!==(re=e[0].downloads+"")&&m(q,re),1&t&&se!==(se=e[0].mod_reference+"")&&m(Z,se)},i:g,o:g,d(e){e&&d(t)}}}function le(e,t,o){let{mod:r}=t;return e.$$set=e=>{"mod"in e&&o(0,r=e.mod)},[r]}class ce extends e{constructor(e){super(),t(this,e,le,ne,o,{mod:0})}}function de(e,t,o){const r=e.slice();return r[3]=t[o],r}function ie(e){let t,o,g,p,I,V,D,M,N,S,A,T,L,_,O,j,P,R,B,z=e[0][e[3]].version+"",C=e[0][e[3]].created_at+"";return g=new y({props:{icon:e[2][e[3]],inline:!0,class:"inline-block"}}),j=new y({props:{icon:k,inline:!0,class:"inline-block"}}),{c(){t=r("div"),o=r("div"),$(g.$$.fragment),p=a(),I=r("div"),V=r("a"),D=s("Version "),M=s(z),S=a(),A=r("div"),T=s(C),L=a(),_=r("div"),O=r("a"),$(j.$$.fragment),R=a(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0});var s=l(o);E(g.$$.fragment,s),s.forEach(d),p=i(r),I=n(r,"DIV",{class:!0});var a=l(I);V=n(a,"A",{href:!0,class:!0});var h=l(V);D=c(h,"Version "),M=c(h,z),h.forEach(d),S=i(a),A=n(a,"DIV",{});var u=l(A);T=c(u,C),u.forEach(d),a.forEach(d),L=i(r),_=n(r,"DIV",{class:!0});var f=l(_);O=n(f,"A",{href:!0,class:!0});var m=l(O);E(j.$$.fragment,m),m.forEach(d),f.forEach(d),R=i(r),r.forEach(d),this.h()},h(){h(o,"class","text-4xl w-14 h-14 p-2.5"),h(V,"href",N=te+"/mod/"+e[1]+"/version/"+e[0][e[3]].id+"/"),h(V,"class","text-yellow-500 underline"),h(I,"class","grid grid-flow-row"),h(O,"href",P=Y+"/mod/"+e[1]+"/versions/"+e[0][e[3]].id+"/download"),h(O,"class","text-yellow-500 underline"),h(_,"class","text-3xl w-14 h-14 p-2.5"),h(t,"class","version svelte-m0mv1c")},m(e,r){u(e,t,r),f(t,o),w(g,o,null),f(t,p),f(t,I),f(I,V),f(V,D),f(V,M),f(I,S),f(I,A),f(A,T),f(t,L),f(t,_),f(_,O),w(j,O,null),f(t,R),B=!0},p(e,t){(!B||1&t)&&z!==(z=e[0][e[3]].version+"")&&m(M,z),(!B||3&t&&N!==(N=te+"/mod/"+e[1]+"/version/"+e[0][e[3]].id+"/"))&&h(V,"href",N),(!B||1&t)&&C!==(C=e[0][e[3]].created_at+"")&&m(T,C),(!B||3&t&&P!==(P=Y+"/mod/"+e[1]+"/versions/"+e[0][e[3]].id+"/download"))&&h(O,"href",P)},i(e){B||(v(g.$$.fragment,e),v(j.$$.fragment,e),B=!0)},o(e){b(g.$$.fragment,e),b(j.$$.fragment,e),B=!1},d(e){e&&d(t),x(g),x(j)}}}function he(e){let t,o,r=e[0][e[3]]&&ie(e);return{c(){r&&r.c(),t=p()},l(e){r&&r.l(e),t=p()},m(e,s){r&&r.m(e,s),u(e,t,s),o=!0},p(e,o){e[0][e[3]]?r?(r.p(e,o),1&o&&v(r,1)):(r=ie(e),r.c(),v(r,1),r.m(t.parentNode,t)):r&&(I(),b(r,1,1,(()=>{r=null})),V())},i(e){o||(v(r),o=!0)},o(e){b(r),o=!1},d(e){r&&r.d(e),e&&d(t)}}}function ue(e){let t,o,m,g,p,$=Object.keys(e[2]),E=[];for(let r=0;r<$.length;r+=1)E[r]=he(de(e,$,r));const w=e=>b(E[e],1,1,(()=>{E[e]=null}));return{c(){t=r("div"),o=r("h3"),m=s("Latest Versions"),g=a();for(let e=0;e<E.length;e+=1)E[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var s=l(o);m=c(s,"Latest Versions"),s.forEach(d),g=i(r);for(let t=0;t<E.length;t+=1)E[t].l(r);r.forEach(d),this.h()},h(){h(o,"class","text-2xl my-4 font-bold"),h(t,"class","grid grid-flow-row gap-y-6")},m(e,r){u(e,t,r),f(t,o),f(o,m),f(t,g);for(let o=0;o<E.length;o+=1)E[o].m(t,null);p=!0},p(e,[o]){if(7&o){let r;for($=Object.keys(e[2]),r=0;r<$.length;r+=1){const s=de(e,$,r);E[r]?(E[r].p(s,o),v(E[r],1)):(E[r]=he(s),E[r].c(),v(E[r],1),E[r].m(t,null))}for(I(),r=$.length;r<E.length;r+=1)w(r);V()}},i(e){if(!p){for(let e=0;e<$.length;e+=1)v(E[e]);p=!0}},o(e){E=E.filter(Boolean);for(let t=0;t<E.length;t+=1)b(E[t]);p=!1},d(e){e&&d(t),D(E,e)}}}function fe(e,t,o){const r={alpha:M,beta:N,release:S};let{latestVersions:s}=t,{modId:a}=t;return e.$$set=e=>{"latestVersions"in e&&o(0,s=e.latestVersions),"modId"in e&&o(1,a=e.modId)},[s,a,r]}class me extends e{constructor(e){super(),t(this,e,fe,ue,o,{latestVersions:0,modId:1})}}function ge(e,t,o){const r=e.slice();return r[1]=t[o],r}function pe(e){let t,o,g,p,v,$,E,w,b,x,I,V,D=e[1].user.username+"",y=e[1].role.charAt(0).toUpperCase()+e[1].role.slice(1).toLowerCase()+"";return{c(){t=r("div"),o=r("div"),p=a(),v=r("div"),$=r("a"),E=s(D),b=a(),x=r("div"),I=s(y),V=a(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0,style:!0}),l(o).forEach(d),p=i(r),v=n(r,"DIV",{class:!0});var s=l(v);$=n(s,"A",{href:!0,class:!0});var a=l($);E=c(a,D),a.forEach(d),b=i(s),x=n(s,"DIV",{});var h=l(x);I=c(h,y),h.forEach(d),s.forEach(d),V=i(r),r.forEach(d),this.h()},h(){h(o,"class","rounded-full bg-cover w-14 h-14"),h(o,"style",g=`background-image: url("${e[1].user.avatar}")`),h($,"href",w=te+"/user/"+e[1].user.id+"/"),h($,"class","text-yellow-500 underline"),h(v,"class","grid grid-flow-row"),h(t,"class","grid grid-flow-col auto-cols-max gap-x-4")},m(e,r){u(e,t,r),f(t,o),f(t,p),f(t,v),f(v,$),f($,E),f(v,b),f(v,x),f(x,I),f(t,V)},p(e,t){1&t&&g!==(g=`background-image: url("${e[1].user.avatar}")`)&&h(o,"style",g),1&t&&D!==(D=e[1].user.username+"")&&m(E,D),1&t&&w!==(w=te+"/user/"+e[1].user.id+"/")&&h($,"href",w),1&t&&y!==(y=e[1].role.charAt(0).toUpperCase()+e[1].role.slice(1).toLowerCase()+"")&&m(I,y)},d(e){e&&d(t)}}}function ve(e){let t,o,m,p,v,$=e[0],E=[];for(let r=0;r<$.length;r+=1)E[r]=pe(ge(e,$,r));return{c(){t=r("div"),o=r("h3"),m=s("Authors"),p=a(),v=r("div");for(let e=0;e<E.length;e+=1)E[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var s=l(o);m=c(s,"Authors"),s.forEach(d),p=i(r),v=n(r,"DIV",{class:!0});var a=l(v);for(let t=0;t<E.length;t+=1)E[t].l(a);a.forEach(d),r.forEach(d),this.h()},h(){h(o,"class","text-2xl my-4 font-bold"),h(v,"class","grid auto-rows-min text-lg gap-y-4"),h(t,"class","grid grid-flow-row gap-y-6")},m(e,r){u(e,t,r),f(t,o),f(o,m),f(t,p),f(t,v);for(let t=0;t<E.length;t+=1)E[t].m(v,null)},p(e,[t]){if(1&t){let o;for($=e[0],o=0;o<$.length;o+=1){const r=ge(e,$,o);E[o]?E[o].p(r,t):(E[o]=pe(r),E[o].c(),E[o].m(v,null))}for(;o<E.length;o+=1)E[o].d(1);E.length=$.length}},i:g,o:g,d(e){e&&d(t),D(E,e)}}}function $e(e,t,o){let{authors:r}=t;return e.$$set=e=>{"authors"in e&&o(0,r=e.authors)},[r]}class Ee extends e{constructor(e){super(),t(this,e,$e,ve,o,{authors:0})}}function we(e){let t,o,s,a;return{c(){t=r("div"),o=r("img"),this.h()},l(e){t=n(e,"DIV",{});var r=l(t);o=n(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(d),this.h()},h(){h(o,"class","rounded-lg max-w-lg"),A(o.src,s=e[0])||h(o,"src",s),h(o,"alt",a="Logo for "+e[1])},m(e,r){u(e,t,r),f(t,o)},p(e,[t]){1&t&&!A(o.src,s=e[0])&&h(o,"src",s),2&t&&a!==(a="Logo for "+e[1])&&h(o,"alt",a)},i:g,o:g,d(e){e&&d(t)}}}function be(e,t,o){let{modLogo:r}=t,{modName:s}=t;return e.$$set=e=>{"modLogo"in e&&o(0,r=e.modLogo),"modName"in e&&o(1,s=e.modName)},[r,s]}class xe extends e{constructor(e){super(),t(this,e,be,we,o,{modLogo:0,modName:1})}}function Ie(e){return{c:g,l:g,m:g,p:g,d:g}}function Ve(e){let t,o=e[2]+"";return{c(){t=r("p")},l(e){t=n(e,"P",{}),l(t).forEach(d)},m(e,r){u(e,t,r),t.innerHTML=o},p(e,r){1&r&&o!==(o=e[2]+"")&&(t.innerHTML=o)},d(e){e&&d(t)}}}function De(e){return{c:g,l:g,m:g,p:g,d:g}}function ye(e){let t,o,s={ctx:e,current:null,token:null,hasCatch:!1,pending:De,then:Ve,catch:Ie,value:2};return T(o=e[0],s),{c(){t=r("div"),s.block.c(),this.h()},l(e){t=n(e,"DIV",{class:!0});var o=l(t);s.block.l(o),o.forEach(d),this.h()},h(){h(t,"class","markdown-content")},m(e,o){u(e,t,o),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null},p(t,[r]){e=t,s.ctx=e,1&r&&o!==(o=e[0])&&T(o,s)||L(s,e,r)},i:g,o:g,d(e){e&&d(t),s.block.d(),s.token=null,s=null}}}function ke(e,t,o){let r,{mod:s}=t;return e.$$set=e=>{"mod"in e&&o(1,s=e.mod)},e.$$.update=()=>{2&e.$$.dirty&&o(0,r=s.full_description?oe(s.full_description):s.short_description)},[r,s]}class Me extends e{constructor(e){super(),t(this,e,ke,ye,o,{mod:1})}}function Ne(e,t,o){const r=e.slice();return r[6]=t[o],r}function Se(e){let t,o,m,g,p,$,E,w,x,y,k,M,N,S,A,T,L,_,O,j=e[2].data.getMod.versions,P=[];for(let r=0;r<j.length;r+=1)P[r]=Pe(Ne(e,j,r));const R=e=>b(P[e],1,1,(()=>{P[e]=null}));return{c(){t=r("div"),o=r("div"),m=s("Version"),g=a(),p=r("div"),$=s("Stability"),E=a(),w=r("div"),x=s("SML Version"),y=a(),k=r("div"),M=s("Downloads"),N=a(),S=r("div"),A=s("Upload Date"),T=a(),L=r("div"),_=a();for(let e=0;e<P.length;e+=1)P[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{});var s=l(o);m=c(s,"Version"),s.forEach(d),g=i(r),p=n(r,"DIV",{});var a=l(p);$=c(a,"Stability"),a.forEach(d),E=i(r),w=n(r,"DIV",{});var h=l(w);x=c(h,"SML Version"),h.forEach(d),y=i(r),k=n(r,"DIV",{});var u=l(k);M=c(u,"Downloads"),u.forEach(d),N=i(r),S=n(r,"DIV",{});var f=l(S);A=c(f,"Upload Date"),f.forEach(d),T=i(r),L=n(r,"DIV",{}),l(L).forEach(d),_=i(r);for(let t=0;t<P.length;t+=1)P[t].l(r);r.forEach(d),this.h()},h(){h(t,"class","grid grid-cols-6 versions svelte-18r325z")},m(e,r){u(e,t,r),f(t,o),f(o,m),f(t,g),f(t,p),f(p,$),f(t,E),f(t,w),f(w,x),f(t,y),f(t,k),f(k,M),f(t,N),f(t,S),f(S,A),f(t,T),f(t,L),f(t,_);for(let o=0;o<P.length;o+=1)P[o].m(t,null);O=!0},p(e,o){if(23&o){let r;for(j=e[2].data.getMod.versions,r=0;r<j.length;r+=1){const s=Ne(e,j,r);P[r]?(P[r].p(s,o),v(P[r],1)):(P[r]=Pe(s),P[r].c(),v(P[r],1),P[r].m(t,null))}for(I(),r=j.length;r<P.length;r+=1)R(r);V()}},i(e){if(!O){for(let e=0;e<j.length;e+=1)v(P[e]);O=!0}},o(e){P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)b(P[t]);O=!1},d(e){e&&d(t),D(P,e)}}}function Ae(e){let t,o,a,i=e[2].error.message+"";return{c(){t=r("p"),o=s("Oh no... "),a=s(i)},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Oh no... "),a=c(r,i),r.forEach(d)},m(e,r){u(e,t,r),f(t,o),f(t,a)},p(e,t){4&t&&i!==(i=e[2].error.message+"")&&m(a,i)},i:g,o:g,d(e){e&&d(t)}}}function Te(e){let t,o;return{c(){t=r("p"),o=s("Loading...")},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Loading..."),r.forEach(d)},m(e,r){u(e,t,r),f(t,o)},p:g,i:g,o:g,d(e){e&&d(t)}}}function Le(e){let t,o,g,p,v,$,E,w,b,x,I,V=e[6].size+"",D=e[6].hash+"",y={ctx:e,current:null,token:null,hasCatch:!1,pending:je,then:Oe,catch:_e,value:9};return T(x=oe(e[6].changelog),y),{c(){t=r("div"),o=s("Size: "),g=s(V),p=a(),v=r("div"),$=s("Hash: "),E=s(D),w=a(),b=r("div"),y.block.c(),I=a(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=c(r,"Size: "),g=c(r,V),r.forEach(d),p=i(e),v=n(e,"DIV",{class:!0});var s=l(v);$=c(s,"Hash: "),E=c(s,D),s.forEach(d),w=i(e),b=n(e,"DIV",{class:!0});var a=l(b);y.block.l(a),I=i(a),a.forEach(d),this.h()},h(){h(t,"class","col-span-3 p-2"),h(v,"class","col-span-3 p-2"),h(b,"class","col-span-6 p-2 markdown-content")},m(e,r){u(e,t,r),f(t,o),f(t,g),u(e,p,r),u(e,v,r),f(v,$),f(v,E),u(e,w,r),u(e,b,r),y.block.m(b,y.anchor=null),y.mount=()=>b,y.anchor=I,f(b,I)},p(t,o){e=t,4&o&&V!==(V=e[6].size+"")&&m(g,V),4&o&&D!==(D=e[6].hash+"")&&m(E,D),y.ctx=e,4&o&&x!==(x=oe(e[6].changelog))&&T(x,y)||L(y,e,o)},d(e){e&&d(t),e&&d(p),e&&d(v),e&&d(w),e&&d(b),y.block.d(),y.token=null,y=null}}}function _e(e){return{c:g,l:g,m:g,p:g,d:g}}function Oe(e){let t,o,r=e[9]+"";return{c(){t=new R,o=p(),this.h()},l(e){t=B(e),o=p(),this.h()},h(){t.a=o},m(e,s){t.m(r,e,s),u(e,o,s)},p(e,o){4&o&&r!==(r=e[9]+"")&&t.p(r)},d(e){e&&d(o),e&&t.d()}}}function je(e){return{c:g,l:g,m:g,p:g,d:g}}function Pe(e){let t,o,g,I,V,D,M,N,S,A,T,L,_,O,j,R,B,z,C,U,H,G,q,F,J,K,Q,W,X,Z,ee,oe,re,se,ae,ne=e[6].version+"",le=e[6].stability+"",ce=e[6].sml_version+"",de=e[6].downloads+"",ie=e[6].created_at+"",he=e[1].has(e[6].id);function ue(){return e[5](e[6])}Z=new y({props:{icon:k,inline:!0,class:"inline-block"}});let fe=he&&Le(e);return{c(){t=r("div"),o=r("div"),g=s(ne),I=a(),V=r("div"),D=s(le),M=a(),N=r("div"),S=s(ce),A=a(),T=r("div"),L=s(de),_=a(),O=r("div"),j=s(ie),R=a(),B=r("div"),z=r("a"),C=s("View"),H=a(),G=r("a"),q=s("Download"),J=a(),K=r("a"),Q=r("span"),W=s("Install"),X=a(),$(Z.$$.fragment),ee=a(),fe&&fe.c(),oe=p(),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0});var s=l(o);g=c(s,ne),s.forEach(d),I=i(r),V=n(r,"DIV",{class:!0});var a=l(V);D=c(a,le),a.forEach(d),M=i(r),N=n(r,"DIV",{class:!0});var h=l(N);S=c(h,ce),h.forEach(d),A=i(r),T=n(r,"DIV",{class:!0});var u=l(T);L=c(u,de),u.forEach(d),_=i(r),O=n(r,"DIV",{class:!0});var f=l(O);j=c(f,ie),f.forEach(d),R=i(r),B=n(r,"DIV",{class:!0});var m=l(B);z=n(m,"A",{href:!0,class:!0});var v=l(z);C=c(v,"View"),v.forEach(d),H=i(m),G=n(m,"A",{href:!0,class:!0});var $=l(G);q=c($,"Download"),$.forEach(d),J=i(m),K=n(m,"A",{href:!0,class:!0});var w=l(K);Q=n(w,"SPAN",{});var b=l(Q);W=c(b,"Install"),b.forEach(d),X=i(w),E(Z.$$.fragment,w),w.forEach(d),m.forEach(d),r.forEach(d),ee=i(e),fe&&fe.l(e),oe=p(),this.h()},h(){h(o,"class","svelte-18r325z"),h(V,"class","svelte-18r325z"),h(N,"class","svelte-18r325z"),h(T,"class","svelte-18r325z"),h(O,"class","svelte-18r325z"),h(z,"href",U=te+"/mod/"+e[0]+"/version/"+e[6].id),h(z,"class","py-1 px-4 rounded text-base bg-blue-500 text-center"),h(G,"href",F=Y+"/mod/"+e[0]+"/versions/"+e[6].id+"/download"),h(G,"class","py-1 px-4 rounded text-base bg-green-600 text-center"),h(K,"href",te),h(K,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center"),h(B,"class","grid grid-flow-col gap-4 svelte-18r325z"),h(t,"class","contents version-header svelte-18r325z")},m(e,r){u(e,t,r),f(t,o),f(o,g),f(t,I),f(t,V),f(V,D),f(t,M),f(t,N),f(N,S),f(t,A),f(t,T),f(T,L),f(t,_),f(t,O),f(O,j),f(t,R),f(t,B),f(B,z),f(z,C),f(B,H),f(B,G),f(G,q),f(B,J),f(B,K),f(K,Q),f(Q,W),f(K,X),w(Z,K,null),u(e,ee,r),fe&&fe.m(e,r),u(e,oe,r),re=!0,se||(ae=P(t,"click",ue),se=!0)},p(t,o){e=t,(!re||4&o)&&ne!==(ne=e[6].version+"")&&m(g,ne),(!re||4&o)&&le!==(le=e[6].stability+"")&&m(D,le),(!re||4&o)&&ce!==(ce=e[6].sml_version+"")&&m(S,ce),(!re||4&o)&&de!==(de=e[6].downloads+"")&&m(L,de),(!re||4&o)&&ie!==(ie=e[6].created_at+"")&&m(j,ie),(!re||5&o&&U!==(U=te+"/mod/"+e[0]+"/version/"+e[6].id))&&h(z,"href",U),(!re||5&o&&F!==(F=Y+"/mod/"+e[0]+"/versions/"+e[6].id+"/download"))&&h(G,"href",F),6&o&&(he=e[1].has(e[6].id)),he?fe?fe.p(e,o):(fe=Le(e),fe.c(),fe.m(oe.parentNode,oe)):fe&&(fe.d(1),fe=null)},i(e){re||(v(Z.$$.fragment,e),re=!0)},o(e){b(Z.$$.fragment,e),re=!1},d(e){e&&d(t),x(Z),e&&d(ee),fe&&fe.d(e),e&&d(oe),se=!1,ae()}}}function Re(e){let t,o,r,s;const a=[Te,Ae,Se],n=[];function l(e,t){return e[2].fetching?0:e[2].error?1:2}return t=l(e),o=n[t]=a[t](e),{c(){o.c(),r=p()},l(e){o.l(e),r=p()},m(e,o){n[t].m(e,o),u(e,r,o),s=!0},p(e,[s]){let c=t;t=l(e),t===c?n[t].p(e,s):(I(),b(n[c],1,1,(()=>{n[c]=null})),V(),o=n[t],o?o.p(e,s):(o=n[t]=a[t](e),o.c()),v(o,1),o.m(r.parentNode,r))},i(e){s||(v(o),s=!0)},o(e){b(o),s=!1},d(e){n[t].d(e),e&&d(r)}}}function Be(e,t,o){let r,{modId:s}=t,a=new Set;const n=_(Q,{mod:s,limit:100,offset:0});O(e,n,(e=>o(2,r=e))),j(n);const l=e=>{a.has(e)?a.delete(e):a.add(e),o(1,a)};return e.$$set=e=>{"modId"in e&&o(0,s=e.modId)},[s,a,r,n,l,e=>l(e.id)]}class ze extends e{constructor(e){super(),t(this,e,Be,Re,o,{modId:0})}}function Ce(e){let t,o,s,l,c,f,m;return document.title=t=e[2].data.getMod.name+" - SMR",{c(){o=a(),s=r("meta"),c=a(),f=r("meta"),this.h()},l(e){o=i(e),s=n(e,"META",{property:!0,content:!0}),c=i(e),f=n(e,"META",{property:!0,content:!0}),this.h()},h(){h(s,"property","og:image"),h(s,"content",l=e[2].data.getMod.logo),h(f,"property","og:description"),h(f,"content",m=e[2].data.getMod.short_description)},m(e,t){u(e,o,t),u(e,s,t),u(e,c,t),u(e,f,t)},p(e,o){4&o&&t!==(t=e[2].data.getMod.name+" - SMR")&&(document.title=t),4&o&&l!==(l=e[2].data.getMod.logo)&&h(s,"content",l),4&o&&m!==(m=e[2].data.getMod.short_description)&&h(f,"content",m)},d(e){e&&d(o),e&&d(s),e&&d(c),e&&d(f)}}}function Ue(e){let t;return{c(){t=s("404")},l(e){t=c(e,"404")},m(e,o){u(e,t,o)},p:g,i:g,o:g,d(e){e&&d(t)}}}function He(e){let t,o,g,p,D,y,k,M,N,S,A,T,L,_,O,j,R,B,z,C,U,H,G,K,Q,W,X,Z,Y,ee=e[2].data.getMod.name+"",te=e[6]&&Fe(e);function oe(e,t){return e[3]?Je:Ke}let re=oe(e),ne=re(e);const le=[We,Qe],de=[];function ie(e,t){return e[3]?1:0}function he(t){e[21](t)}S=ie(e),A=de[S]=le[S](e),_=new xe({props:{modLogo:e[2].data.getMod.logo,modName:e[2].data.getMod.name}}),j=new ce({props:{mod:e[2].data.getMod}}),B=new me({props:{modId:e[2].data.getMod.id,latestVersions:e[2].data.getMod.latestVersions}}),C=new Ee({props:{authors:e[2].data.getMod.authors}});let ue={$$slots:{default:[Xe]},$$scope:{ctx:e}};function fe(t){e[22](t)}void 0!==e[7]&&(ue.open=e[7]),H=new se({props:ue}),q.push((()=>F(H,"open",he)));let ge={$$slots:{default:[Ze]},$$scope:{ctx:e}};return void 0!==e[5]&&(ge.running=e[5]),Q=new ae({props:ge}),q.push((()=>F(Q,"running",fe))),{c(){t=r("div"),o=r("div"),g=r("div"),p=r("h1"),D=s(ee),y=a(),te&&te.c(),k=a(),M=r("button"),ne.c(),N=a(),A.c(),T=a(),L=r("div"),$(_.$$.fragment),O=a(),$(j.$$.fragment),R=a(),$(B.$$.fragment),z=a(),$(C.$$.fragment),U=a(),$(H.$$.fragment),K=a(),$(Q.$$.fragment),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"DIV",{class:!0});var s=l(o);g=n(s,"DIV",{class:!0});var a=l(g);p=n(a,"H1",{class:!0});var h=l(p);D=c(h,ee),h.forEach(d),y=i(a),te&&te.l(a),k=i(a),M=n(a,"BUTTON",{class:!0});var u=l(M);ne.l(u),u.forEach(d),a.forEach(d),N=i(s),A.l(s),s.forEach(d),T=i(r),L=n(r,"DIV",{class:!0});var f=l(L);E(_.$$.fragment,f),O=i(f),E(j.$$.fragment,f),R=i(f),E(B.$$.fragment,f),z=i(f),E(C.$$.fragment,f),f.forEach(d),r.forEach(d),U=i(e),E(H.$$.fragment,e),K=i(e),E(Q.$$.fragment,e),this.h()},h(){h(p,"class","text-4xl my-4 font-bold"),h(M,"class","py-2 px-4 rounded text-base bg-blue-500"),h(g,"class","grid grid-flow-col grid-auto-max h-auto gap-4 items-center svelte-2pmst8"),h(o,"class","grid grid-cols-1 auto-rows-min gap-8"),h(L,"class","grid grid-cols-1 auto-rows-min gap-8"),h(t,"class","grid gap-8 grid-auto-max svelte-2pmst8")},m(r,s){u(r,t,s),f(t,o),f(o,g),f(g,p),f(p,D),f(g,y),te&&te.m(g,null),f(g,k),f(g,M),ne.m(M,null),f(o,N),de[S].m(o,null),f(t,T),f(t,L),w(_,L,null),f(L,O),w(j,L,null),f(L,R),w(B,L,null),f(L,z),w(C,L,null),u(r,U,s),w(H,r,s),u(r,K,s),w(Q,r,s),X=!0,Z||(Y=P(M,"click",e[18]),Z=!0)},p(e,t){(!X||4&t)&&ee!==(ee=e[2].data.getMod.name+"")&&m(D,ee),e[6]?te?te.p(e,t):(te=Fe(e),te.c(),te.m(g,k)):te&&(te.d(1),te=null),re!==(re=oe(e))&&(ne.d(1),ne=re(e),ne&&(ne.c(),ne.m(M,null)));let r=S;S=ie(e),S===r?de[S].p(e,t):(I(),b(de[r],1,1,(()=>{de[r]=null})),V(),A=de[S],A?A.p(e,t):(A=de[S]=le[S](e),A.c()),v(A,1),A.m(o,null));const s={};4&t&&(s.modLogo=e[2].data.getMod.logo),4&t&&(s.modName=e[2].data.getMod.name),_.$set(s);const a={};4&t&&(a.mod=e[2].data.getMod),j.$set(a);const n={};4&t&&(n.modId=e[2].data.getMod.id),4&t&&(n.latestVersions=e[2].data.getMod.latestVersions),B.$set(n);const l={};4&t&&(l.authors=e[2].data.getMod.authors),C.$set(l);const c={};16777216&t&&(c.$$scope={dirty:t,ctx:e}),!G&&128&t&&(G=!0,c.open=e[7],J((()=>G=!1))),H.$set(c);const d={};16777232&t&&(d.$$scope={dirty:t,ctx:e}),!W&&32&t&&(W=!0,d.running=e[5],J((()=>W=!1))),Q.$set(d)},i(e){X||(v(A),v(_.$$.fragment,e),v(j.$$.fragment,e),v(B.$$.fragment,e),v(C.$$.fragment,e),v(H.$$.fragment,e),v(Q.$$.fragment,e),X=!0)},o(e){b(A),b(_.$$.fragment,e),b(j.$$.fragment,e),b(B.$$.fragment,e),b(C.$$.fragment,e),b(H.$$.fragment,e),b(Q.$$.fragment,e),X=!1},d(e){e&&d(t),te&&te.d(),ne.d(),de[S].d(),x(_),x(j),x(B),x(C),e&&d(U),x(H,e),e&&d(K),x(Q,e),Z=!1,Y()}}}function Ge(e){let t,o,a,i=e[2].error.message+"";return{c(){t=r("p"),o=s("Oh no... "),a=s(i)},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Oh no... "),a=c(r,i),r.forEach(d)},m(e,r){u(e,t,r),f(t,o),f(t,a)},p(e,t){4&t&&i!==(i=e[2].error.message+"")&&m(a,i)},i:g,o:g,d(e){e&&d(t)}}}function qe(e){let t,o;return{c(){t=r("p"),o=s("Loading...")},l(e){t=n(e,"P",{});var r=l(t);o=c(r,"Loading..."),r.forEach(d)},m(e,r){u(e,t,r),f(t,o)},p:g,i:g,o:g,d(e){e&&d(t)}}}function Fe(e){let t,o,m,p,v,$,E,w,b,x;return{c(){t=r("button"),o=s("Edit"),m=a(),p=r("button"),v=s("Delete"),$=a(),E=r("button"),w=s("New Version"),this.h()},l(e){t=n(e,"BUTTON",{class:!0});var r=l(t);o=c(r,"Edit"),r.forEach(d),m=i(e),p=n(e,"BUTTON",{class:!0});var s=l(p);v=c(s,"Delete"),s.forEach(d),$=i(e),E=n(e,"BUTTON",{class:!0});var a=l(E);w=c(a,"New Version"),a.forEach(d),this.h()},h(){h(t,"class","py-2 px-4 rounded text-base bg-yellow-600"),h(p,"class","py-2 px-4 rounded text-base bg-red-500"),h(E,"class","py-2 px-4 rounded text-base bg-green-600")},m(r,s){u(r,t,s),f(t,o),u(r,m,s),u(r,p,s),f(p,v),u(r,$,s),u(r,E,s),f(E,w),b||(x=[P(t,"click",e[15]),P(p,"click",e[16]),P(E,"click",e[17])],b=!0)},p:g,d(e){e&&d(t),e&&d(m),e&&d(p),e&&d($),e&&d(E),b=!1,G(x)}}}function Je(e){let t;return{c(){t=s("Description")},l(e){t=c(e,"Description")},m(e,o){u(e,t,o)},d(e){e&&d(t)}}}function Ke(e){let t;return{c(){t=s("Versions")},l(e){t=c(e,"Versions")},m(e,o){u(e,t,o)},d(e){e&&d(t)}}}function Qe(e){let t,o;return t=new ze({props:{modId:e[2].data.getMod.id}}),{c(){$(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){w(t,e,r),o=!0},p(e,o){const r={};4&o&&(r.modId=e[2].data.getMod.id),t.$set(r)},i(e){o||(v(t.$$.fragment,e),o=!0)},o(e){b(t.$$.fragment,e),o=!1},d(e){x(t,e)}}}function We(e){let t,o;return t=new Me({props:{mod:e[2].data.getMod}}),{c(){$(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){w(t,e,r),o=!0},p(e,o){const r={};4&o&&(r.mod=e[2].data.getMod),t.$set(r)},i(e){o||(v(t.$$.fragment,e),o=!0)},o(e){b(t.$$.fragment,e),o=!1},d(e){x(t,e)}}}function Xe(e){let t,o,m,p,v,$,E,w,b,x,I,V,D,y;return{c(){t=r("div"),o=r("h3"),m=s("Delete Mod?"),p=a(),v=r("span"),$=s("Are you sure you wish to delete this mod"),E=a(),w=r("button"),b=s("Cancel"),x=a(),I=r("button"),V=s("Delete"),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=l(t);o=n(r,"H3",{class:!0});var s=l(o);m=c(s,"Delete Mod?"),s.forEach(d),p=i(r),v=n(r,"SPAN",{});var a=l(v);$=c(a,"Are you sure you wish to delete this mod"),a.forEach(d),E=i(r),w=n(r,"BUTTON",{class:!0});var h=l(w);b=c(h,"Cancel"),h.forEach(d),x=i(r),I=n(r,"BUTTON",{class:!0});var u=l(I);V=c(u,"Delete"),u.forEach(d),r.forEach(d),this.h()},h(){h(o,"class","text-2xl font-bold"),h(w,"class","py-1 px-4 rounded text-base bg-yellow-600"),h(I,"class","py-1 px-4 rounded text-base bg-red-500"),h(t,"class","grid grid-flow-row gap-4")},m(r,s){u(r,t,s),f(t,o),f(o,m),f(t,p),f(t,v),f(v,$),f(t,E),f(t,w),f(w,b),f(t,x),f(t,I),f(I,V),D||(y=[P(w,"click",e[19]),P(I,"click",e[20])],D=!0)},p:g,d(e){e&&d(t),D=!1,G(y)}}}function Ze(e){let t,o;return{c(){t=r("span"),o=s(e[4])},l(r){t=n(r,"SPAN",{});var s=l(t);o=c(s,e[4]),s.forEach(d)},m(e,r){u(e,t,r),f(t,o)},p(e,t){16&t&&m(o,e[4])},d(e){e&&d(t)}}}function Ye(e){let t,o,r,s,n,l,c=!e[2].fetching&&!e[2].error&&Ce(e);const h=[qe,Ge,He,Ue],m=[];function g(e,t){return e[2].fetching?0:e[2].error?1:e[2].data.getMod?2:3}return r=g(e),s=m[r]=h[r](e),{c(){c&&c.c(),t=p(),o=a(),s.c(),n=p()},l(e){const r=z('[data-svelte="svelte-1mxoi7k"]',document.head);c&&c.l(r),t=p(),r.forEach(d),o=i(e),s.l(e),n=p()},m(e,s){c&&c.m(document.head,null),f(document.head,t),u(e,o,s),m[r].m(e,s),u(e,n,s),l=!0},p(e,[o]){e[2].fetching||e[2].error?c&&(c.d(1),c=null):c?c.p(e,o):(c=Ce(e),c.c(),c.m(t.parentNode,t));let a=r;r=g(e),r===a?m[r].p(e,o):(I(),b(m[a],1,1,(()=>{m[a]=null})),V(),s=m[r],s?s.p(e,o):(s=m[r]=h[r](e),s.c()),v(s,1),s.m(n.parentNode,n))},i(e){l||(v(s),l=!0)},o(e){b(s),l=!1},d(e){c&&c.d(e),d(t),e&&d(o),m[r].d(e),e&&d(n)}}}var et=function(e,t,o,r){return new(o||(o=Promise))((function(s,a){function n(e){try{c(r.next(e))}catch(t){a(t)}}function l(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,l)}c((r=r.apply(e,t||[])).next())}))};const tt=_(W,{mod:void 0}),ot=Z((e=>et(void 0,void 0,void 0,(function*(){return tt.variables.mod=e.page.params.modId,K({mod:tt})(e)}))));function rt(e,t,o){let r,s,a,n,l=g,c=()=>(l(),l=C(m,(e=>o(2,a=e))),m);var d,i,h,u;O(e,ee,(e=>o(14,s=e))),e.$$.on_destroy.push((()=>l()));let{modId:f}=t,{mod:m}=t;c();let p=!1,v="",$=!1;const E=U({query:X}),w=H(!1);O(e,w,(e=>o(7,n=e)));const b=()=>{E({modId:f}).then((e=>{e.error?(console.error(e.error.message),o(4,v="Error deleting mod: "+e.error.message),o(5,$=!0)):re(te+"/mods")}))};j(m);return e.$$set=e=>{"modId"in e&&o(0,f=e.modId),"mod"in e&&c(o(1,m=e.mod))},e.$$.update=()=>{31748&e.$$.dirty&&o(6,r=(null===o(10,d=null==s?void 0:s.roles)||void 0===d?void 0:d.deleteContent)||(null===o(13,u=null===o(12,h=null===o(11,i=null==a?void 0:a.data)||void 0===i?void 0:i.getMod)||void 0===h?void 0:h.authors)||void 0===u?void 0:u.findIndex((e=>e.user_id==(null==s?void 0:s.id))))>=0)},[f,m,a,p,v,$,r,n,w,b,d,i,h,u,s,()=>re(te+"/mod/"+f+"/edit"),()=>w.set(!0),()=>re(te+"/mod/"+f+"/new-version"),()=>o(3,p=!p),()=>w.set(!1),()=>b(),function(e){n=e,w.set(n)},function(e){$=e,o(5,$)}]}class st extends e{constructor(e){super(),t(this,e,rt,Ye,o,{modId:0,mod:1})}}export{st as default,ot as load};
//# sourceMappingURL=index.svelte-7a831ee1.js.map
