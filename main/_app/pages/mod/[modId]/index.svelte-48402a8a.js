import{S as e,i as r,s as t,e as s,t as o,k as a,c as n,a as l,g as c,d,n as i,b as h,f,a2 as u,h as m,a8 as g,l as p,x as v,j as $,m as E,o as w,u as b,v as x,r as V,w as I,an as D,a3 as y,ap as k,aP as N,aQ as M,aR as S,ar as A,aw as T,ax as L,_,Z as O,$ as j,a7 as P,ay as z,az as B,a1 as R,C,a9 as U,W as H,X as G,Y as q}from"../../../chunks/vendor-d3bf6e8b.js";import{p as Q}from"../../../chunks/routing-405c8d47.js";import{u as W,v as X,w as Y}from"../../../chunks/graphql-7b224d75.js";import{b as Z}from"../../../chunks/sha256-88abbcfe.js";import{a as F}from"../../../chunks/user-679d7474.js";import{b as J}from"../../../chunks/paths-6758d194.js";import{m as K}from"../../../chunks/markdown-129d1c4f.js";import{g as ee}from"../../../chunks/navigation-2ffed81e.js";import{D as re}from"../../../chunks/Dialog-e9a4a2ae.js";import{T as te}from"../../../chunks/Toast-ae4bd24a.js";import"../../../chunks/singletons-12a22614.js";function se(e){let r,t,p,v,$,E,w,b,x,V,I,D,y,k,N,M,S,A,T,L,_,O,j,P,z,B,R,C,U,H,G,q,Q,W,X,Y,Z,F,J,K,ee=e[0].source_url+"",re=e[0].created_at+"",te=e[0].views+"",se=e[0].downloads+"",oe=e[0].mod_reference+"";return{c(){r=s("div"),t=s("h3"),p=o("Info"),v=a(),$=s("span"),E=s("strong"),w=o("Source:"),b=a(),x=s("a"),V=o(ee),D=s("br"),y=a(),k=s("span"),N=s("strong"),M=o("Created:"),S=a(),A=o(re),T=s("br"),L=a(),_=s("span"),O=s("strong"),j=o("Views:"),P=a(),z=o(te),B=s("br"),R=a(),C=s("span"),U=s("strong"),H=o("Downloads:"),G=a(),q=o(se),Q=s("br"),W=a(),X=s("span"),Y=s("strong"),Z=o("Reference:"),F=a(),J=o(oe),K=s("br"),this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"H3",{class:!0});var o=l(t);p=c(o,"Info"),o.forEach(d),v=i(s),$=n(s,"SPAN",{});var a=l($);E=n(a,"STRONG",{});var h=l(E);w=c(h,"Source:"),h.forEach(d),b=i(a),x=n(a,"A",{class:!0,href:!0});var f=l(x);V=c(f,ee),f.forEach(d),a.forEach(d),D=n(s,"BR",{}),y=i(s),k=n(s,"SPAN",{});var u=l(k);N=n(u,"STRONG",{});var m=l(N);M=c(m,"Created:"),m.forEach(d),S=i(u),A=c(u,re),u.forEach(d),T=n(s,"BR",{}),L=i(s),_=n(s,"SPAN",{});var g=l(_);O=n(g,"STRONG",{});var I=l(O);j=c(I,"Views:"),I.forEach(d),P=i(g),z=c(g,te),g.forEach(d),B=n(s,"BR",{}),R=i(s),C=n(s,"SPAN",{});var ae=l(C);U=n(ae,"STRONG",{});var ne=l(U);H=c(ne,"Downloads:"),ne.forEach(d),G=i(ae),q=c(ae,se),ae.forEach(d),Q=n(s,"BR",{}),W=i(s),X=n(s,"SPAN",{});var le=l(X);Y=n(le,"STRONG",{});var ce=l(Y);Z=c(ce,"Reference:"),ce.forEach(d),F=i(le),J=c(le,oe),le.forEach(d),K=n(s,"BR",{}),s.forEach(d),this.h()},h(){h(t,"class","text-2xl my-4 font-bold"),h(x,"class","underline text-yellow-500"),h(x,"href",I=e[0].source_url),h(r,"class","text-lg")},m(e,s){f(e,r,s),u(r,t),u(t,p),u(r,v),u(r,$),u($,E),u(E,w),u($,b),u($,x),u(x,V),u(r,D),u(r,y),u(r,k),u(k,N),u(N,M),u(k,S),u(k,A),u(r,T),u(r,L),u(r,_),u(_,O),u(O,j),u(_,P),u(_,z),u(r,B),u(r,R),u(r,C),u(C,U),u(U,H),u(C,G),u(C,q),u(r,Q),u(r,W),u(r,X),u(X,Y),u(Y,Z),u(X,F),u(X,J),u(r,K)},p(e,[r]){1&r&&ee!==(ee=e[0].source_url+"")&&m(V,ee),1&r&&I!==(I=e[0].source_url)&&h(x,"href",I),1&r&&re!==(re=e[0].created_at+"")&&m(A,re),1&r&&te!==(te=e[0].views+"")&&m(z,te),1&r&&se!==(se=e[0].downloads+"")&&m(q,se),1&r&&oe!==(oe=e[0].mod_reference+"")&&m(J,oe)},i:g,o:g,d(e){e&&d(r)}}}function oe(e,r,t){let{mod:s}=r;return e.$$set=e=>{"mod"in e&&t(0,s=e.mod)},[s]}class ae extends e{constructor(e){super(),r(this,e,oe,se,t,{mod:0})}}function ne(e,r,t){const s=e.slice();return s[3]=r[t],s}function le(e){let r,t,g,p,V,I,D,N,M,S,A,T,L,_,O,j,P,z,B,R=e[0][e[3]].version+"",C=e[0][e[3]].created_at+"";return g=new y({props:{icon:e[2][e[3]],inline:!0,class:"inline-block"}}),j=new y({props:{icon:k,inline:!0,class:"inline-block"}}),{c(){r=s("div"),t=s("div"),$(g.$$.fragment),p=a(),V=s("div"),I=s("a"),D=o("Version "),N=o(R),S=a(),A=s("div"),T=o(C),L=a(),_=s("div"),O=s("a"),$(j.$$.fragment),z=a(),this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"DIV",{class:!0});var o=l(t);E(g.$$.fragment,o),o.forEach(d),p=i(s),V=n(s,"DIV",{class:!0});var a=l(V);I=n(a,"A",{href:!0,class:!0});var h=l(I);D=c(h,"Version "),N=c(h,R),h.forEach(d),S=i(a),A=n(a,"DIV",{});var f=l(A);T=c(f,C),f.forEach(d),a.forEach(d),L=i(s),_=n(s,"DIV",{class:!0});var u=l(_);O=n(u,"A",{href:!0,class:!0});var m=l(O);E(j.$$.fragment,m),m.forEach(d),u.forEach(d),z=i(s),s.forEach(d),this.h()},h(){h(t,"class","text-4xl w-14 h-14 p-2.5"),h(I,"href",M=J+"/mod/"+e[1]+"/version/"+e[0][e[3]].id+"/"),h(I,"class","text-yellow-500 underline"),h(V,"class","grid grid-flow-row"),h(O,"href",P=Z+"/mod/"+e[1]+"/versions/"+e[0][e[3]].id+"/download"),h(O,"class","text-yellow-500 underline"),h(_,"class","text-3xl w-14 h-14 p-2.5"),h(r,"class","version svelte-m0mv1c")},m(e,s){f(e,r,s),u(r,t),w(g,t,null),u(r,p),u(r,V),u(V,I),u(I,D),u(I,N),u(V,S),u(V,A),u(A,T),u(r,L),u(r,_),u(_,O),w(j,O,null),u(r,z),B=!0},p(e,r){(!B||1&r)&&R!==(R=e[0][e[3]].version+"")&&m(N,R),(!B||3&r&&M!==(M=J+"/mod/"+e[1]+"/version/"+e[0][e[3]].id+"/"))&&h(I,"href",M),(!B||1&r)&&C!==(C=e[0][e[3]].created_at+"")&&m(T,C),(!B||3&r&&P!==(P=Z+"/mod/"+e[1]+"/versions/"+e[0][e[3]].id+"/download"))&&h(O,"href",P)},i(e){B||(v(g.$$.fragment,e),v(j.$$.fragment,e),B=!0)},o(e){b(g.$$.fragment,e),b(j.$$.fragment,e),B=!1},d(e){e&&d(r),x(g),x(j)}}}function ce(e){let r,t,s=e[0][e[3]]&&le(e);return{c(){s&&s.c(),r=p()},l(e){s&&s.l(e),r=p()},m(e,o){s&&s.m(e,o),f(e,r,o),t=!0},p(e,t){e[0][e[3]]?s?(s.p(e,t),1&t&&v(s,1)):(s=le(e),s.c(),v(s,1),s.m(r.parentNode,r)):s&&(V(),b(s,1,1,(()=>{s=null})),I())},i(e){t||(v(s),t=!0)},o(e){b(s),t=!1},d(e){s&&s.d(e),e&&d(r)}}}function de(e){let r,t,m,g,p,$=Object.keys(e[2]),E=[];for(let s=0;s<$.length;s+=1)E[s]=ce(ne(e,$,s));const w=e=>b(E[e],1,1,(()=>{E[e]=null}));return{c(){r=s("div"),t=s("h3"),m=o("Latest Versions"),g=a();for(let e=0;e<E.length;e+=1)E[e].c();this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"H3",{class:!0});var o=l(t);m=c(o,"Latest Versions"),o.forEach(d),g=i(s);for(let r=0;r<E.length;r+=1)E[r].l(s);s.forEach(d),this.h()},h(){h(t,"class","text-2xl my-4 font-bold"),h(r,"class","grid grid-flow-row gap-y-6")},m(e,s){f(e,r,s),u(r,t),u(t,m),u(r,g);for(let t=0;t<E.length;t+=1)E[t].m(r,null);p=!0},p(e,[t]){if(7&t){let s;for($=Object.keys(e[2]),s=0;s<$.length;s+=1){const o=ne(e,$,s);E[s]?(E[s].p(o,t),v(E[s],1)):(E[s]=ce(o),E[s].c(),v(E[s],1),E[s].m(r,null))}for(V(),s=$.length;s<E.length;s+=1)w(s);I()}},i(e){if(!p){for(let e=0;e<$.length;e+=1)v(E[e]);p=!0}},o(e){E=E.filter(Boolean);for(let r=0;r<E.length;r+=1)b(E[r]);p=!1},d(e){e&&d(r),D(E,e)}}}function ie(e,r,t){const s={alpha:N,beta:M,release:S};let{latestVersions:o}=r,{modId:a}=r;return e.$$set=e=>{"latestVersions"in e&&t(0,o=e.latestVersions),"modId"in e&&t(1,a=e.modId)},[o,a,s]}class he extends e{constructor(e){super(),r(this,e,ie,de,t,{latestVersions:0,modId:1})}}function fe(e,r,t){const s=e.slice();return s[1]=r[t],s}function ue(e){let r,t,g,p,v,$,E,w,b,x,V,I,D=e[1].user.username+"",y=e[1].role.charAt(0).toUpperCase()+e[1].role.slice(1).toLowerCase()+"";return{c(){r=s("div"),t=s("div"),p=a(),v=s("div"),$=s("a"),E=o(D),b=a(),x=s("div"),V=o(y),I=a(),this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"DIV",{class:!0,style:!0}),l(t).forEach(d),p=i(s),v=n(s,"DIV",{class:!0});var o=l(v);$=n(o,"A",{href:!0,class:!0});var a=l($);E=c(a,D),a.forEach(d),b=i(o),x=n(o,"DIV",{});var h=l(x);V=c(h,y),h.forEach(d),o.forEach(d),I=i(s),s.forEach(d),this.h()},h(){h(t,"class","rounded-full bg-cover w-14 h-14"),h(t,"style",g=`background-image: url("${e[1].user.avatar}")`),h($,"href",w=J+"/user/"+e[1].user.id+"/"),h($,"class","text-yellow-500 underline"),h(v,"class","grid grid-flow-row"),h(r,"class","grid grid-flow-col auto-cols-max gap-x-4")},m(e,s){f(e,r,s),u(r,t),u(r,p),u(r,v),u(v,$),u($,E),u(v,b),u(v,x),u(x,V),u(r,I)},p(e,r){1&r&&g!==(g=`background-image: url("${e[1].user.avatar}")`)&&h(t,"style",g),1&r&&D!==(D=e[1].user.username+"")&&m(E,D),1&r&&w!==(w=J+"/user/"+e[1].user.id+"/")&&h($,"href",w),1&r&&y!==(y=e[1].role.charAt(0).toUpperCase()+e[1].role.slice(1).toLowerCase()+"")&&m(V,y)},d(e){e&&d(r)}}}function me(e){let r,t,m,p,v,$=e[0],E=[];for(let s=0;s<$.length;s+=1)E[s]=ue(fe(e,$,s));return{c(){r=s("div"),t=s("h3"),m=o("Authors"),p=a(),v=s("div");for(let e=0;e<E.length;e+=1)E[e].c();this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"H3",{class:!0});var o=l(t);m=c(o,"Authors"),o.forEach(d),p=i(s),v=n(s,"DIV",{class:!0});var a=l(v);for(let r=0;r<E.length;r+=1)E[r].l(a);a.forEach(d),s.forEach(d),this.h()},h(){h(t,"class","text-2xl my-4 font-bold"),h(v,"class","grid auto-rows-min text-lg gap-y-4"),h(r,"class","grid grid-flow-row gap-y-6")},m(e,s){f(e,r,s),u(r,t),u(t,m),u(r,p),u(r,v);for(let r=0;r<E.length;r+=1)E[r].m(v,null)},p(e,[r]){if(1&r){let t;for($=e[0],t=0;t<$.length;t+=1){const s=fe(e,$,t);E[t]?E[t].p(s,r):(E[t]=ue(s),E[t].c(),E[t].m(v,null))}for(;t<E.length;t+=1)E[t].d(1);E.length=$.length}},i:g,o:g,d(e){e&&d(r),D(E,e)}}}function ge(e,r,t){let{authors:s}=r;return e.$$set=e=>{"authors"in e&&t(0,s=e.authors)},[s]}class pe extends e{constructor(e){super(),r(this,e,ge,me,t,{authors:0})}}function ve(e){let r,t,o,a;return{c(){r=s("div"),t=s("img"),this.h()},l(e){r=n(e,"DIV",{});var s=l(r);t=n(s,"IMG",{class:!0,src:!0,alt:!0}),s.forEach(d),this.h()},h(){h(t,"class","rounded-lg max-w-lg"),A(t.src,o=e[0])||h(t,"src",o),h(t,"alt",a="Logo for "+e[1])},m(e,s){f(e,r,s),u(r,t)},p(e,[r]){1&r&&!A(t.src,o=e[0])&&h(t,"src",o),2&r&&a!==(a="Logo for "+e[1])&&h(t,"alt",a)},i:g,o:g,d(e){e&&d(r)}}}function $e(e,r,t){let{modLogo:s}=r,{modName:o}=r;return e.$$set=e=>{"modLogo"in e&&t(0,s=e.modLogo),"modName"in e&&t(1,o=e.modName)},[s,o]}class Ee extends e{constructor(e){super(),r(this,e,$e,ve,t,{modLogo:0,modName:1})}}function we(e){return{c:g,l:g,m:g,p:g,d:g}}function be(e){let r,t=e[2]+"";return{c(){r=s("p")},l(e){r=n(e,"P",{}),l(r).forEach(d)},m(e,s){f(e,r,s),r.innerHTML=t},p(e,s){1&s&&t!==(t=e[2]+"")&&(r.innerHTML=t)},d(e){e&&d(r)}}}function xe(e){return{c:g,l:g,m:g,p:g,d:g}}function Ve(e){let r,t,o={ctx:e,current:null,token:null,hasCatch:!1,pending:xe,then:be,catch:we,value:2};return T(t=e[0],o),{c(){r=s("div"),o.block.c(),this.h()},l(e){r=n(e,"DIV",{class:!0});var t=l(r);o.block.l(t),t.forEach(d),this.h()},h(){h(r,"class","markdown-content")},m(e,t){f(e,r,t),o.block.m(r,o.anchor=null),o.mount=()=>r,o.anchor=null},p(r,[s]){e=r,o.ctx=e,1&s&&t!==(t=e[0])&&T(t,o)||L(o,e,s)},i:g,o:g,d(e){e&&d(r),o.block.d(),o.token=null,o=null}}}function Ie(e,r,t){let s,{mod:o}=r;return e.$$set=e=>{"mod"in e&&t(1,o=e.mod)},e.$$.update=()=>{2&e.$$.dirty&&t(0,s=o.full_description?K(o.full_description):o.short_description)},[s,o]}class De extends e{constructor(e){super(),r(this,e,Ie,Ve,t,{mod:1})}}function ye(e,r,t){const s=e.slice();return s[6]=r[t],s}function ke(e){let r,t,m,g,p,$,E,w,x,y,k,N,M,S,A,T,L,_,O,j=e[2].data.getMod.versions,P=[];for(let s=0;s<j.length;s+=1)P[s]=_e(ye(e,j,s));const z=e=>b(P[e],1,1,(()=>{P[e]=null}));return{c(){r=s("div"),t=s("div"),m=o("Version"),g=a(),p=s("div"),$=o("Stability"),E=a(),w=s("div"),x=o("SML Version"),y=a(),k=s("div"),N=o("Downloads"),M=a(),S=s("div"),A=o("Upload Date"),T=a(),L=s("div"),_=a();for(let e=0;e<P.length;e+=1)P[e].c();this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"DIV",{});var o=l(t);m=c(o,"Version"),o.forEach(d),g=i(s),p=n(s,"DIV",{});var a=l(p);$=c(a,"Stability"),a.forEach(d),E=i(s),w=n(s,"DIV",{});var h=l(w);x=c(h,"SML Version"),h.forEach(d),y=i(s),k=n(s,"DIV",{});var f=l(k);N=c(f,"Downloads"),f.forEach(d),M=i(s),S=n(s,"DIV",{});var u=l(S);A=c(u,"Upload Date"),u.forEach(d),T=i(s),L=n(s,"DIV",{}),l(L).forEach(d),_=i(s);for(let r=0;r<P.length;r+=1)P[r].l(s);s.forEach(d),this.h()},h(){h(r,"class","grid grid-cols-6 versions svelte-18r325z")},m(e,s){f(e,r,s),u(r,t),u(t,m),u(r,g),u(r,p),u(p,$),u(r,E),u(r,w),u(w,x),u(r,y),u(r,k),u(k,N),u(r,M),u(r,S),u(S,A),u(r,T),u(r,L),u(r,_);for(let t=0;t<P.length;t+=1)P[t].m(r,null);O=!0},p(e,t){if(23&t){let s;for(j=e[2].data.getMod.versions,s=0;s<j.length;s+=1){const o=ye(e,j,s);P[s]?(P[s].p(o,t),v(P[s],1)):(P[s]=_e(o),P[s].c(),v(P[s],1),P[s].m(r,null))}for(V(),s=j.length;s<P.length;s+=1)z(s);I()}},i(e){if(!O){for(let e=0;e<j.length;e+=1)v(P[e]);O=!0}},o(e){P=P.filter(Boolean);for(let r=0;r<P.length;r+=1)b(P[r]);O=!1},d(e){e&&d(r),D(P,e)}}}function Ne(e){let r,t,a,i=e[2].error.message+"";return{c(){r=s("p"),t=o("Oh no... "),a=o(i)},l(e){r=n(e,"P",{});var s=l(r);t=c(s,"Oh no... "),a=c(s,i),s.forEach(d)},m(e,s){f(e,r,s),u(r,t),u(r,a)},p(e,r){4&r&&i!==(i=e[2].error.message+"")&&m(a,i)},i:g,o:g,d(e){e&&d(r)}}}function Me(e){let r,t;return{c(){r=s("p"),t=o("Loading...")},l(e){r=n(e,"P",{});var s=l(r);t=c(s,"Loading..."),s.forEach(d)},m(e,s){f(e,r,s),u(r,t)},p:g,i:g,o:g,d(e){e&&d(r)}}}function Se(e){let r,t,g,p,v,$,E,w,b,x,V,I=e[6].size+"",D=e[6].hash+"",y={ctx:e,current:null,token:null,hasCatch:!1,pending:Le,then:Te,catch:Ae,value:9};return T(x=K(e[6].changelog),y),{c(){r=s("div"),t=o("Size: "),g=o(I),p=a(),v=s("div"),$=o("Hash: "),E=o(D),w=a(),b=s("div"),y.block.c(),V=a(),this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=c(s,"Size: "),g=c(s,I),s.forEach(d),p=i(e),v=n(e,"DIV",{class:!0});var o=l(v);$=c(o,"Hash: "),E=c(o,D),o.forEach(d),w=i(e),b=n(e,"DIV",{class:!0});var a=l(b);y.block.l(a),V=i(a),a.forEach(d),this.h()},h(){h(r,"class","col-span-3 p-2"),h(v,"class","col-span-3 p-2"),h(b,"class","col-span-6 p-2 markdown-content")},m(e,s){f(e,r,s),u(r,t),u(r,g),f(e,p,s),f(e,v,s),u(v,$),u(v,E),f(e,w,s),f(e,b,s),y.block.m(b,y.anchor=null),y.mount=()=>b,y.anchor=V,u(b,V)},p(r,t){e=r,4&t&&I!==(I=e[6].size+"")&&m(g,I),4&t&&D!==(D=e[6].hash+"")&&m(E,D),y.ctx=e,4&t&&x!==(x=K(e[6].changelog))&&T(x,y)||L(y,e,t)},d(e){e&&d(r),e&&d(p),e&&d(v),e&&d(w),e&&d(b),y.block.d(),y.token=null,y=null}}}function Ae(e){return{c:g,l:g,m:g,p:g,d:g}}function Te(e){let r,t,s=e[9]+"";return{c(){r=new z,t=p(),this.h()},l(e){r=B(e),t=p(),this.h()},h(){r.a=t},m(e,o){r.m(s,e,o),f(e,t,o)},p(e,t){4&t&&s!==(s=e[9]+"")&&r.p(s)},d(e){e&&d(t),e&&r.d()}}}function Le(e){return{c:g,l:g,m:g,p:g,d:g}}function _e(e){let r,t,g,V,I,D,N,M,S,A,T,L,_,O,j,z,B,R,C,U,H,G,q,Q,W,X,Y,F,K,ee,re,te,se,oe,ae,ne=e[6].version+"",le=e[6].stability+"",ce=e[6].sml_version+"",de=e[6].downloads+"",ie=e[6].created_at+"",he=e[1].has(e[6].id);function fe(){return e[5](e[6])}ee=new y({props:{icon:k,inline:!0,class:"inline-block"}});let ue=he&&Se(e);return{c(){r=s("div"),t=s("div"),g=o(ne),V=a(),I=s("div"),D=o(le),N=a(),M=s("div"),S=o(ce),A=a(),T=s("div"),L=o(de),_=a(),O=s("div"),j=o(ie),z=a(),B=s("div"),R=s("a"),C=o("View"),H=a(),G=s("a"),q=o("Download"),W=a(),X=s("a"),Y=s("span"),F=o("Install"),K=a(),$(ee.$$.fragment),re=a(),ue&&ue.c(),te=p(),this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"DIV",{class:!0});var o=l(t);g=c(o,ne),o.forEach(d),V=i(s),I=n(s,"DIV",{class:!0});var a=l(I);D=c(a,le),a.forEach(d),N=i(s),M=n(s,"DIV",{class:!0});var h=l(M);S=c(h,ce),h.forEach(d),A=i(s),T=n(s,"DIV",{class:!0});var f=l(T);L=c(f,de),f.forEach(d),_=i(s),O=n(s,"DIV",{class:!0});var u=l(O);j=c(u,ie),u.forEach(d),z=i(s),B=n(s,"DIV",{class:!0});var m=l(B);R=n(m,"A",{href:!0,class:!0});var v=l(R);C=c(v,"View"),v.forEach(d),H=i(m),G=n(m,"A",{href:!0,class:!0});var $=l(G);q=c($,"Download"),$.forEach(d),W=i(m),X=n(m,"A",{href:!0,class:!0});var w=l(X);Y=n(w,"SPAN",{});var b=l(Y);F=c(b,"Install"),b.forEach(d),K=i(w),E(ee.$$.fragment,w),w.forEach(d),m.forEach(d),s.forEach(d),re=i(e),ue&&ue.l(e),te=p(),this.h()},h(){h(t,"class","svelte-18r325z"),h(I,"class","svelte-18r325z"),h(M,"class","svelte-18r325z"),h(T,"class","svelte-18r325z"),h(O,"class","svelte-18r325z"),h(R,"href",U=J+"/mod/"+e[0]+"/version/"+e[6].id),h(R,"class","py-1 px-4 rounded text-base bg-blue-500 text-center"),h(G,"href",Q=Z+"/mod/"+e[0]+"/versions/"+e[6].id+"/download"),h(G,"class","py-1 px-4 rounded text-base bg-green-600 text-center"),h(X,"href",J),h(X,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center"),h(B,"class","grid grid-flow-col gap-4 svelte-18r325z"),h(r,"class","contents version-header svelte-18r325z")},m(e,s){f(e,r,s),u(r,t),u(t,g),u(r,V),u(r,I),u(I,D),u(r,N),u(r,M),u(M,S),u(r,A),u(r,T),u(T,L),u(r,_),u(r,O),u(O,j),u(r,z),u(r,B),u(B,R),u(R,C),u(B,H),u(B,G),u(G,q),u(B,W),u(B,X),u(X,Y),u(Y,F),u(X,K),w(ee,X,null),f(e,re,s),ue&&ue.m(e,s),f(e,te,s),se=!0,oe||(ae=P(r,"click",fe),oe=!0)},p(r,t){e=r,(!se||4&t)&&ne!==(ne=e[6].version+"")&&m(g,ne),(!se||4&t)&&le!==(le=e[6].stability+"")&&m(D,le),(!se||4&t)&&ce!==(ce=e[6].sml_version+"")&&m(S,ce),(!se||4&t)&&de!==(de=e[6].downloads+"")&&m(L,de),(!se||4&t)&&ie!==(ie=e[6].created_at+"")&&m(j,ie),(!se||5&t&&U!==(U=J+"/mod/"+e[0]+"/version/"+e[6].id))&&h(R,"href",U),(!se||5&t&&Q!==(Q=Z+"/mod/"+e[0]+"/versions/"+e[6].id+"/download"))&&h(G,"href",Q),6&t&&(he=e[1].has(e[6].id)),he?ue?ue.p(e,t):(ue=Se(e),ue.c(),ue.m(te.parentNode,te)):ue&&(ue.d(1),ue=null)},i(e){se||(v(ee.$$.fragment,e),se=!0)},o(e){b(ee.$$.fragment,e),se=!1},d(e){e&&d(r),x(ee),e&&d(re),ue&&ue.d(e),e&&d(te),oe=!1,ae()}}}function Oe(e){let r,t,s,o;const a=[Me,Ne,ke],n=[];function l(e,r){return e[2].fetching?0:e[2].error?1:2}return r=l(e),t=n[r]=a[r](e),{c(){t.c(),s=p()},l(e){t.l(e),s=p()},m(e,t){n[r].m(e,t),f(e,s,t),o=!0},p(e,[o]){let c=r;r=l(e),r===c?n[r].p(e,o):(V(),b(n[c],1,1,(()=>{n[c]=null})),I(),t=n[r],t?t.p(e,o):(t=n[r]=a[r](e),t.c()),v(t,1),t.m(s.parentNode,s))},i(e){o||(v(t),o=!0)},o(e){b(t),o=!1},d(e){n[r].d(e),e&&d(s)}}}function je(e,r,t){let s,{modId:o}=r,a=new Set;const n=_(W,{mod:o,limit:100,offset:0});O(e,n,(e=>t(2,s=e))),j(n);const l=e=>{a.has(e)?a.delete(e):a.add(e),t(1,a)};return e.$$set=e=>{"modId"in e&&t(0,o=e.modId)},[o,a,s,n,l,e=>l(e.id)]}class Pe extends e{constructor(e){super(),r(this,e,je,Oe,t,{modId:0})}}function ze(e){let r;return{c(){r=o("404")},l(e){r=c(e,"404")},m(e,t){f(e,r,t)},p:g,i:g,o:g,d(e){e&&d(r)}}}function Be(e){let r,t,g,p,D,y,k,N,M,S,A,T,L,_,O,j,z,B,R,C,U,Q,W,X,Y,Z,F,J,K,ee=e[1].data.getMod.name+"",se=e[5]&&Ue(e);function oe(e,r){return e[2]?He:Ge}let ne=oe(e),le=ne(e);const ce=[Qe,qe],de=[];function ie(e,r){return e[2]?1:0}function fe(r){e[21](r)}S=ie(e),A=de[S]=ce[S](e),_=new Ee({props:{modLogo:e[1].data.getMod.logo,modName:e[1].data.getMod.name}}),j=new ae({props:{mod:e[1].data.getMod}}),B=new he({props:{modId:e[1].data.getMod.id,latestVersions:e[1].data.getMod.latestVersions}}),C=new pe({props:{authors:e[1].data.getMod.authors}});let ue={$$slots:{default:[We]},$$scope:{ctx:e}};function me(r){e[22](r)}void 0!==e[6]&&(ue.open=e[6]),Q=new re({props:ue}),H.push((()=>G(Q,"open",fe)));let ge={$$slots:{default:[Xe]},$$scope:{ctx:e}};return void 0!==e[4]&&(ge.running=e[4]),Y=new te({props:ge}),H.push((()=>G(Y,"running",me))),{c(){r=s("div"),t=s("div"),g=s("div"),p=s("h1"),D=o(ee),y=a(),se&&se.c(),k=a(),N=s("button"),le.c(),M=a(),A.c(),T=a(),L=s("div"),$(_.$$.fragment),O=a(),$(j.$$.fragment),z=a(),$(B.$$.fragment),R=a(),$(C.$$.fragment),U=a(),$(Q.$$.fragment),X=a(),$(Y.$$.fragment),this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"DIV",{class:!0});var o=l(t);g=n(o,"DIV",{class:!0});var a=l(g);p=n(a,"H1",{class:!0});var h=l(p);D=c(h,ee),h.forEach(d),y=i(a),se&&se.l(a),k=i(a),N=n(a,"BUTTON",{class:!0});var f=l(N);le.l(f),f.forEach(d),a.forEach(d),M=i(o),A.l(o),o.forEach(d),T=i(s),L=n(s,"DIV",{class:!0});var u=l(L);E(_.$$.fragment,u),O=i(u),E(j.$$.fragment,u),z=i(u),E(B.$$.fragment,u),R=i(u),E(C.$$.fragment,u),u.forEach(d),s.forEach(d),U=i(e),E(Q.$$.fragment,e),X=i(e),E(Y.$$.fragment,e),this.h()},h(){h(p,"class","text-4xl my-4 font-bold"),h(N,"class","py-2 px-4 rounded text-base bg-blue-500"),h(g,"class","grid grid-flow-col grid-auto-max h-auto gap-4 items-center svelte-2pmst8"),h(t,"class","grid grid-cols-1 auto-rows-min gap-8"),h(L,"class","grid grid-cols-1 auto-rows-min gap-8"),h(r,"class","grid gap-8 grid-auto-max svelte-2pmst8")},m(s,o){f(s,r,o),u(r,t),u(t,g),u(g,p),u(p,D),u(g,y),se&&se.m(g,null),u(g,k),u(g,N),le.m(N,null),u(t,M),de[S].m(t,null),u(r,T),u(r,L),w(_,L,null),u(L,O),w(j,L,null),u(L,z),w(B,L,null),u(L,R),w(C,L,null),f(s,U,o),w(Q,s,o),f(s,X,o),w(Y,s,o),F=!0,J||(K=P(N,"click",e[18]),J=!0)},p(e,r){(!F||2&r)&&ee!==(ee=e[1].data.getMod.name+"")&&m(D,ee),e[5]?se?se.p(e,r):(se=Ue(e),se.c(),se.m(g,k)):se&&(se.d(1),se=null),ne!==(ne=oe(e))&&(le.d(1),le=ne(e),le&&(le.c(),le.m(N,null)));let s=S;S=ie(e),S===s?de[S].p(e,r):(V(),b(de[s],1,1,(()=>{de[s]=null})),I(),A=de[S],A?A.p(e,r):(A=de[S]=ce[S](e),A.c()),v(A,1),A.m(t,null));const o={};2&r&&(o.modLogo=e[1].data.getMod.logo),2&r&&(o.modName=e[1].data.getMod.name),_.$set(o);const a={};2&r&&(a.mod=e[1].data.getMod),j.$set(a);const n={};2&r&&(n.modId=e[1].data.getMod.id),2&r&&(n.latestVersions=e[1].data.getMod.latestVersions),B.$set(n);const l={};2&r&&(l.authors=e[1].data.getMod.authors),C.$set(l);const c={};16777216&r&&(c.$$scope={dirty:r,ctx:e}),!W&&64&r&&(W=!0,c.open=e[6],q((()=>W=!1))),Q.$set(c);const d={};16777224&r&&(d.$$scope={dirty:r,ctx:e}),!Z&&16&r&&(Z=!0,d.running=e[4],q((()=>Z=!1))),Y.$set(d)},i(e){F||(v(A),v(_.$$.fragment,e),v(j.$$.fragment,e),v(B.$$.fragment,e),v(C.$$.fragment,e),v(Q.$$.fragment,e),v(Y.$$.fragment,e),F=!0)},o(e){b(A),b(_.$$.fragment,e),b(j.$$.fragment,e),b(B.$$.fragment,e),b(C.$$.fragment,e),b(Q.$$.fragment,e),b(Y.$$.fragment,e),F=!1},d(e){e&&d(r),se&&se.d(),le.d(),de[S].d(),x(_),x(j),x(B),x(C),e&&d(U),x(Q,e),e&&d(X),x(Y,e),J=!1,K()}}}function Re(e){let r,t,a,i=e[1].error.message+"";return{c(){r=s("p"),t=o("Oh no... "),a=o(i)},l(e){r=n(e,"P",{});var s=l(r);t=c(s,"Oh no... "),a=c(s,i),s.forEach(d)},m(e,s){f(e,r,s),u(r,t),u(r,a)},p(e,r){2&r&&i!==(i=e[1].error.message+"")&&m(a,i)},i:g,o:g,d(e){e&&d(r)}}}function Ce(e){let r,t;return{c(){r=s("p"),t=o("Loading...")},l(e){r=n(e,"P",{});var s=l(r);t=c(s,"Loading..."),s.forEach(d)},m(e,s){f(e,r,s),u(r,t)},p:g,i:g,o:g,d(e){e&&d(r)}}}function Ue(e){let r,t,m,p,v,$,E,w,b,x;return{c(){r=s("button"),t=o("Edit"),m=a(),p=s("button"),v=o("Delete"),$=a(),E=s("button"),w=o("New Version"),this.h()},l(e){r=n(e,"BUTTON",{class:!0});var s=l(r);t=c(s,"Edit"),s.forEach(d),m=i(e),p=n(e,"BUTTON",{class:!0});var o=l(p);v=c(o,"Delete"),o.forEach(d),$=i(e),E=n(e,"BUTTON",{class:!0});var a=l(E);w=c(a,"New Version"),a.forEach(d),this.h()},h(){h(r,"class","py-2 px-4 rounded text-base bg-yellow-600"),h(p,"class","py-2 px-4 rounded text-base bg-red-500"),h(E,"class","py-2 px-4 rounded text-base bg-green-600")},m(s,o){f(s,r,o),u(r,t),f(s,m,o),f(s,p,o),u(p,v),f(s,$,o),f(s,E,o),u(E,w),b||(x=[P(r,"click",e[15]),P(p,"click",e[16]),P(E,"click",e[17])],b=!0)},p:g,d(e){e&&d(r),e&&d(m),e&&d(p),e&&d($),e&&d(E),b=!1,U(x)}}}function He(e){let r;return{c(){r=o("Description")},l(e){r=c(e,"Description")},m(e,t){f(e,r,t)},d(e){e&&d(r)}}}function Ge(e){let r;return{c(){r=o("Versions")},l(e){r=c(e,"Versions")},m(e,t){f(e,r,t)},d(e){e&&d(r)}}}function qe(e){let r,t;return r=new Pe({props:{modId:e[1].data.getMod.id}}),{c(){$(r.$$.fragment)},l(e){E(r.$$.fragment,e)},m(e,s){w(r,e,s),t=!0},p(e,t){const s={};2&t&&(s.modId=e[1].data.getMod.id),r.$set(s)},i(e){t||(v(r.$$.fragment,e),t=!0)},o(e){b(r.$$.fragment,e),t=!1},d(e){x(r,e)}}}function Qe(e){let r,t;return r=new De({props:{mod:e[1].data.getMod}}),{c(){$(r.$$.fragment)},l(e){E(r.$$.fragment,e)},m(e,s){w(r,e,s),t=!0},p(e,t){const s={};2&t&&(s.mod=e[1].data.getMod),r.$set(s)},i(e){t||(v(r.$$.fragment,e),t=!0)},o(e){b(r.$$.fragment,e),t=!1},d(e){x(r,e)}}}function We(e){let r,t,m,p,v,$,E,w,b,x,V,I,D,y;return{c(){r=s("div"),t=s("h3"),m=o("Delete Mod?"),p=a(),v=s("span"),$=o("Are you sure you wish to delete this mod"),E=a(),w=s("button"),b=o("Cancel"),x=a(),V=s("button"),I=o("Delete"),this.h()},l(e){r=n(e,"DIV",{class:!0});var s=l(r);t=n(s,"H3",{class:!0});var o=l(t);m=c(o,"Delete Mod?"),o.forEach(d),p=i(s),v=n(s,"SPAN",{});var a=l(v);$=c(a,"Are you sure you wish to delete this mod"),a.forEach(d),E=i(s),w=n(s,"BUTTON",{class:!0});var h=l(w);b=c(h,"Cancel"),h.forEach(d),x=i(s),V=n(s,"BUTTON",{class:!0});var f=l(V);I=c(f,"Delete"),f.forEach(d),s.forEach(d),this.h()},h(){h(t,"class","text-2xl font-bold"),h(w,"class","py-1 px-4 rounded text-base bg-yellow-600"),h(V,"class","py-1 px-4 rounded text-base bg-red-500"),h(r,"class","grid grid-flow-row gap-4")},m(s,o){f(s,r,o),u(r,t),u(t,m),u(r,p),u(r,v),u(v,$),u(r,E),u(r,w),u(w,b),u(r,x),u(r,V),u(V,I),D||(y=[P(w,"click",e[19]),P(V,"click",e[20])],D=!0)},p:g,d(e){e&&d(r),D=!1,U(y)}}}function Xe(e){let r,t;return{c(){r=s("span"),t=o(e[3])},l(s){r=n(s,"SPAN",{});var o=l(r);t=c(o,e[3]),o.forEach(d)},m(e,s){f(e,r,s),u(r,t)},p(e,r){8&r&&m(t,e[3])},d(e){e&&d(r)}}}function Ye(e){let r,t,s,o;const a=[Ce,Re,Be,ze],n=[];function l(e,r){return e[1].fetching?0:e[1].error?1:e[1].data.getMod?2:3}return r=l(e),t=n[r]=a[r](e),{c(){t.c(),s=p()},l(e){t.l(e),s=p()},m(e,t){n[r].m(e,t),f(e,s,t),o=!0},p(e,[o]){let c=r;r=l(e),r===c?n[r].p(e,o):(V(),b(n[c],1,1,(()=>{n[c]=null})),I(),t=n[r],t?t.p(e,o):(t=n[r]=a[r](e),t.c()),v(t,1),t.m(s.parentNode,s))},i(e){o||(v(t),o=!0)},o(e){b(t),o=!1},d(e){n[r].d(e),e&&d(s)}}}const Ze=Q();function Fe(e,r,t){let s,o,a,n;var l,c,d,i;O(e,F,(e=>t(14,o=e)));let{modId:h}=r,f=!1,u="",m=!1;const g=_(Y,{mod:h});O(e,g,(e=>t(1,a=e)));const p=R({query:X}),v=C(!1);O(e,v,(e=>t(6,n=e)));const $=()=>{p({modId:h}).then((e=>{e.error?(console.error(e.error.message),t(3,u="Error deleting mod: "+e.error.message),t(4,m=!0)):ee(J+"/mods")}))};j(g);return e.$$set=e=>{"modId"in e&&t(0,h=e.modId)},e.$$.update=()=>{31746&e.$$.dirty&&t(5,s=(null===t(10,l=null==o?void 0:o.roles)||void 0===l?void 0:l.deleteContent)||(null===t(13,i=null===t(12,d=null===t(11,c=null==a?void 0:a.data)||void 0===c?void 0:c.getMod)||void 0===d?void 0:d.authors)||void 0===i?void 0:i.findIndex((e=>e.user_id==(null==o?void 0:o.id))))>=0)},[h,a,f,u,m,s,n,g,v,$,l,c,d,i,o,()=>ee(J+"/mod/"+h+"/edit"),()=>v.set(!0),()=>ee(J+"/mod/"+h+"/new-version"),()=>t(2,f=!f),()=>v.set(!1),()=>$(),function(e){n=e,v.set(n)},function(e){m=e,t(4,m)}]}class Je extends e{constructor(e){super(),r(this,e,Fe,Ye,t,{modId:0})}}export{Je as default,Ze as load};
