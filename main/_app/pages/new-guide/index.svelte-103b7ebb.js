import{S as s,i as a,s as r,W as t,X as n,e,t as o,k as i,j as c,c as u,a as m,g as f,d,n as $,m as p,b as h,f as g,a2 as l,o as k,Y as j,x as b,u as x,v,a1 as w,h as G}from"../../chunks/vendor-db5fc542.js";import{N as y}from"../../chunks/graphql-7b224d75.js";import{T as N}from"../../chunks/Toast-c21bf6da.js";import{g as E}from"../../chunks/navigation-51f4a605.js";import{G as S}from"../../chunks/GuideForm-5415c434.js";import{b as q}from"../../chunks/paths-6758d194.js";import"../../chunks/singletons-12a22614.js";import"../../chunks/forms-8d025218.js";import"../../chunks/markdown-c60b2bfd.js";function T(s){let a,r;return{c(){a=e("span"),r=o(s[1])},l(t){a=u(t,"SPAN",{});var n=m(a);r=f(n,s[1]),n.forEach(d)},m(s,t){g(s,a,t),l(a,r)},p(s,a){2&a&&G(r,s[1])},d(s){s&&d(a)}}}function A(s){let a,r,w,G,y,E,q,A;function F(a){s[3](a)}G=new S({props:{onSubmit:s[2]}});let H={$$slots:{default:[T]},$$scope:{ctx:s}};return void 0!==s[0]&&(H.running=s[0]),E=new N({props:H}),t.push((()=>n(E,"running",F))),{c(){a=e("h1"),r=o("New Guide"),w=i(),c(G.$$.fragment),y=i(),c(E.$$.fragment),this.h()},l(s){a=u(s,"H1",{class:!0});var t=m(a);r=f(t,"New Guide"),t.forEach(d),w=$(s),p(G.$$.fragment,s),y=$(s),p(E.$$.fragment,s),this.h()},h(){h(a,"class","text-4xl my-4 font-bold")},m(s,t){g(s,a,t),l(a,r),g(s,w,t),k(G,s,t),g(s,y,t),k(E,s,t),A=!0},p(s,[a]){const r={};34&a&&(r.$$scope={dirty:a,ctx:s}),!q&&1&a&&(q=!0,r.running=s[0],j((()=>q=!1))),E.$set(r)},i(s){A||(b(G.$$.fragment,s),b(E.$$.fragment,s),A=!0)},o(s){x(G.$$.fragment,s),x(E.$$.fragment,s),A=!1},d(s){s&&d(a),s&&d(w),v(G,s),s&&d(y),v(E,s)}}}function F(s,a,r){let t="",n=!1;const e=w({query:y});return s.$$.update=()=>{1&s.$$.dirty&&(n||r(1,t=""))},[n,t,s=>{e({guide:s}).then((s=>{s.error?(console.error(s.error.message),r(1,t="Error creating guide: "+s.error.message),r(0,n=!0)):E(q+"/guide/"+s.data.createGuide.id)}))},function(s){n=s,r(0,n)}]}class H extends s{constructor(s){super(),a(this,s,F,A,r,{})}}export{H as default};
